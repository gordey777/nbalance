if(!window.criteo_q||window.criteo_q instanceof Array){var oldQueue=window.criteo_q||[];window.criteo_q=function(){var e={bodyReady:!1,domReady:!1,queue:[],actions:[],disingScheduled:[],accounts:[],acid:null,axid:null,pxsig:null,ccp:null},t={tagVersion:"4.1.0",handlerUrlPrefix:("https:"===document.location.protocol?"https://sslwidget.":"http://widget.")+"criteo.com/event",handlerResponseType:"single",responseType:"js",handlerParams:{v:"4.1.0"},extraData:[],customerInfo:[],manualDising:!1,manualFlush:!1,disOnce:!1,partialDis:!1,eventMap:{applaunched:"al",viewitem:"vp",viewhome:"vh",viewlist:"vl",viewbasket:"vb",viewsearch:"vs",tracktransaction:"vc",calldising:"dis",setdata:"exd",setemail:"ce"},propMap:{event:"e",account:"a",currency:"c",product:"p",item:"p","item.id":"i","item.price":"pr","item.quantity":"q","product.id":"i","product.price":"pr","product.quantity":"q",data:"d",keywords:"kw",checkin_date:"din",checkout_date:"dout",deduplication:"dd",attribution:"at","attribution.channel":"ac","attribution.value":"v",user_segment:"si",new_customer:"nc",customer_id:"ci",email:"m",hash_method:"h",transaction_value:"tv",responseType:"rt"},setters:{seturl:{cfg:"handlerUrlPrefix",evt:"url"},setaccount:{cfg:"account",evt:"account"},setcalltype:{cfg:"handlerResponseType",evt:"type"},setresponsetype:{cfg:"responseType",evt:"type"},oninitialized:{cfg:"onInitialized",evt:"callback"},ondomready:{cfg:"onDOMReady",evt:"callback"},beforeappend:{cfg:"beforeAppend",evt:"callback"},aftereval:{cfg:"afterEval",evt:"callback"},onflush:{cfg:"onFlush",evt:"callback"}},flags:{disonce:"disOnce",manualdising:"manualDising",manualflush:"manualFlush",nopartialflush:"noPartialFlush",disonpartialflush:"partialDis"}},n=function(e){var t;return 0<document.cookie.length&&(t=document.cookie.indexOf(e+"="),-1!=t)?(t=t+e.length+1,e=document.cookie.indexOf(";",t),-1==e&&(e=document.cookie.length),unescape(document.cookie.substring(t,e))):null};!function(e){var t=n("criteo_acid"),a=n("cto_axid"),o=n("cto_pxsig"),i=n("cto_optout");null===t&&null===a&&null===i&&null===o?(t=new Date,t.setTime(t.getTime()+1e4),t="expires="+t.toUTCString(),document.cookie=["criteo_write_test=ChUIBBINbXlHb29nbGVSdGJJZBgBIAE","path=/",t].join("; "),t=n("criteo_write_test"),e.canWriteCookie=null!==t,document.cookie="criteo_write_test=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC"):(e.acid=t,e.axid=null!==i?"optout":a,e.pxsig=o,e.canWriteCookie=!0)}(e),function(e){var t=n("criteo_cookie_perm");null!==t&&(e.ccp=t)}(e);var a=function(){for(var t=0;t<arguments.length;++t)e.queue.push(arguments[t]);o()},o=function(){for(var n=[],a=e.queue,o=0;o<a.length;++o){var c=a[o];if(c instanceof Array)a.splice.apply(a,[o+1,0].concat(c));else if(c instanceof Function)a.splice(o+1,0,c());else if(c&&"[object Object]"===c.toString())switch(i(c,o,a,n)){case 0:n.push(c);break;case-1:n=n.concat(a.slice(o)),o=a.length}}t.afterEval instanceof Function&&(n=t.afterEval(a,n,e,t)),e.queue=n||[],!t.manualFlush&&(!t.noPartialFlush||0===e.queue.length)&&r(0!==e.queue.length)},i=function(n,a,o,l){if(!e.domReady&&n.requiresDOM&&"no"!==n.requiresDOM)return"blocking"===n.requiresDOM?-1:0;if(delete n.requiresDOM,!n.event)return u(n),1;switch(n.account&&f(n.account,e.accounts),n.event=n.event.toLowerCase(),n.event){case"setdata":return n=u(n),t.extraData.push(n),c(e.actions,u(n)),1;case"setparameter":for(var d in n)"event"!==d.toLowerCase()&&n.hasOwnProperty(d)&&(t.handlerParams[d]=n[d]);return 1;case"calldising":n.hasOwnProperty("account")||(n.account=e.accounts),a=t.handlerResponseType,n.hasOwnProperty("type")&&(a=n.type,delete n.type),f(n.account,e.disingScheduled),"sequential"===a&&(n.dc=!0);break;case"setcustomerid":return n.event="setdata",n.customer_id=n.id,delete n.id,i(n);case"setemail":case"sethashedemail":case"ceh":if(n.event="setemail",n.hasOwnProperty("email")){for(n.email instanceof Array||(n.email=[n.email]),a=n.email,o=[],l=0;l<a.length;l++)void 0!==a[l]&&null!==a[l]&&o.push(String(a[l]));n.email=o}return a=u(n),t.customerInfo.push(a),s(e.actions,u(n)),1;case"setsitetype":return a="d","mobile"!==n.type&&"m"!==n.type||(a="m"),"tablet"!==n.type&&"t"!==n.type||(a="t"),n.event="setdata",delete n.type,n.site_type=a,i(n);case"appendtag":if(e.bodyReady&&!t.container&&((a=document.body)?(o=document.createElement("div"),o.setAttribute("id","criteo-tags-div"),o.style.display="none",a.appendChild(o),a=o):a=void 0,t.container=a),n.url&&(n.isImgUrl?(a=document.createElement("img"),a.setAttribute("style","display:none;"),a.setAttribute("width","1"),a.setAttribute("height","1")):(a=document.createElement("script"),a.setAttribute("async","true"),a.setAttribute("type","text/javascript")),a.setAttribute("src",n.url),n.element=a),t.beforeAppend instanceof Function&&(n.element=t.beforeAppend(n.element,e,t)),u(n),n.element&&(n.element.tagName||n.isImgUrl))if(t.container||"script"!==n.element.tagName.toLowerCase()&&!n.isImgUrl){if(!t.container)return 0;t.container.appendChild(n.element)}else a=document.getElementsByTagName("script")[0],n.element.setAttribute("data-owner","criteo-tag"),a.parentNode.insertBefore(n.element,a);return 1;case"gettagstate":return n.callback instanceof Function?n.callback(e,t):1;case"flush":case"flushevents":return r(a!==o.length-1||0!==l.length),1}return(a=t.setters[n.event])?(t[a.cfg]=n[a.evt],1):(a=t.flags[n.event])?(t[a]=!0,1):(e.actions.push(u(n)),1)},r=function(n){if(t.onFlush instanceof Function&&(e.actions=t.onFlush(e.actions,e,t)),0!==e.actions.length){for(var a=0;a<t.extraData.length;++a)c(e.actions,t.extraData[a]);for(a=0;a<t.customerInfo.length;++a)s(e.actions,t.customerInfo[a]);if(!t.manualDising&&(!n||t.partialDis)){for(n=[],a=0;a<e.accounts.length;++a)h(e.disingScheduled,e.accounts[a])||n.push(e.accounts[a]);0<n.length&&i({event:"callDising",account:n})}if(n=e.actions,a=[],1===e.accounts.length&&(t.account=e.accounts[0]),t.account&&a.push("a="+p(t.account,[])),"js"!==t.responseType&&a.push("rt="+p(t.responseType,[])),t.handlerParams){var o=decodeURIComponent(p(t.handlerParams,[]));o&&a.push(o)}for(o=0;o<n.length;++o)n[o].account&&d(t.account,n[o].account)&&delete n[o].account,a.push("p"+o+"="+p(n[o],[]));null!==e.acid&&a.push("acid="+e.acid),null!==e.axid&&a.push("axid="+e.axid),null!==e.pxsig&&a.push("pxsig="+e.pxsig),e.canWriteCookie&&a.push("adce=1"),null!==e.ccp&&a.push("ccp="+e.ccp),n=a.join("&"),n={event:"appendTag",url:t.handlerUrlPrefix+"?"+n,isImgUrl:"gif"===t.responseType},e.actions=[],i(n),t.disOnce||(e.disingScheduled=[])}},c=function(e,t){for(var n=0;n<e.length;++n){var a=e[n];if(a.event===t.event&&d(t.account,a.account)){for(var o in t)t.hasOwnProperty(o)&&"account"!==o&&(a[o]=t[o]);return}}e.push(t)},s=function(e,t){for(var n=0;n<e.length;++n){var a=e[n];if(a.event===t.event&&d(t.account,a.account)&&("hash_method"in t?t.hash_method:"")===("hash_method"in a?a.hash_method:"")){if(t.hasOwnProperty("email")){for(var n=a,a=a.email,o=t.email,i=[],r=0;r<o.length;++r)h(a,o[r])||i.push(o[r]);a=a.concat(i),n.email=a}return}}e.push(t)},u=function(e){var t=e;if(e instanceof Function)return t=e(),t instanceof Function?t:u(t);if(e instanceof Array)for(var t=[],n=0;n<e.length;++n)t[n]=u(e[n]);else if(e&&"[object Object]"===e.toString())for(n in t={},e)e.hasOwnProperty(n)&&(t[n]=u(e[n]));return t},l=function(e,n){var a=n.join(".");return t.propMap[a]?t.propMap[a]:e},d=function(e,t){if(!(e instanceof Array))return d([e],t);if(!(t instanceof Array))return d(e,[t]);if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!h(t,e[n]))return!1;return!0},p=function(e,n){var a="";if(e instanceof Function)a=p(e(),n);else if(e instanceof Array){for(var o=[],i=0;i<e.length;++i)o[i]=p(e[i],n);a+="["+o.join(",")+"]"}else if(e&&"[object Object]"===e.toString()){o=[];for(i in e)if(e.hasOwnProperty(i)){var r=n.concat([i]);o.push(l(i,r)+"="+p(e[i],r))}a+=o.join("&")}else a=1===n.length&&"event"===n[0]?a+(t.eventMap[e.toLowerCase()]?t.eventMap[e.toLowerCase()]:e):a+e;return encodeURIComponent(a)},f=function(e,t){if(e instanceof Array)for(var n=0;n<e.length;++n)f(e[n],t);else h(t,e)||t.push(e)},h=function(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},m=function(e){if(e){var t=e.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e.location.protocol+"//static.criteo.net/js/ld/ld-tag-debug.4.1.0.js"),e=e.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)}};!function(e){!function t(){document.body?setTimeout(e,0):setTimeout(t,10)}()}(function(){e.bodyReady=!(t.onInitialized instanceof Function)||t.onInitialized(e,t),o()}),function(e,t){if("complete"===e.readyState)t();else if(e.addEventListener)e.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1);else{e.attachEvent("onreadystatechange",t),window.attachEvent("onload",t);var n=!1;try{n=null===window.frameElement&&document.documentElement}catch(a){}if(n&&n.doScroll)(function c(){if(n){try{n.doScroll("left")}catch(e){return setTimeout(c,50)}t()}})();else{var o=!1,i=e.onload,r=e.onreadystatechange;e.onload=e.onreadystatechange=function(){r instanceof Function&&r(),o||e.readyState&&"loaded"!==e.readyState&&"complete"!==e.readyState||(i instanceof Function&&i(),o=!0,t())}}}}(document,function(){e.domReady=!(t.onDOMReady instanceof Function)||t.onDOMReady(e,t),o()}),function(e){try{if(e&&e.referrer){var n=e.createElement("a");n.href=e.referrer,n.hostname!==e.location.hostname&&t.extraData.push({event:"setData",ref:n.protocol+"//"+n.hostname})}}catch(a){}}(document),function(e,t){if(e&&t){var n=/^\#(enable|disable)-criteo-tag-debug-mode(\=(\d+))?$/.exec(t);if(n&&4==n.length){var a="enable"==n[1],o=n[3],n="criteoTagDebugMode=";a&&o&&!isNaN(o)&&(n+=parseInt(o,10)),a=a?(new Date).getTime()+864e5:0,a="expires="+new Date(a).toUTCString(),document.cookie=[n,"path=/",a].join("; "),window.location.href=window.location.href.substr(0,window.location.href.indexOf("#"))}}}(document,window.location.hash);var g;if(g=!!document&&("function"==typeof Array.prototype.indexOf&&-1!==document.cookie.indexOf("criteoTagDebugMode="))){var v={originalPush:a,stagedPushes:[],stagedErrors:[],push:function(){0<arguments.length&&this.stagedPushes.push(arguments)},pushError:function(e){this.stagedErrors.push(e)}};return window.onerror=function(e){return function(t,n,a,o){return v.pushError({message:t,url:n,lineNumber:a,column:o}),!(!e||"function"!=typeof e)&&e.apply(this,arguments)}}(window.onerror),m(document),v}return{push:a}}(),window.criteo_q.push.apply(window.criteo_q,oldQueue)}
//# sourceMappingURL=maps/ld.js.map
