try{!function(e,t,n,r){"use strict";function a(e){for(var t in e)j.call(e,t)&&(this[t]=e[t])}function i(e){if(N.length)A.queue.push(arguments);else{var t=T.call(arguments),n=1===t.length&&k.isArray(t[0]);if(n&&(t=t[0]),"report"===e.slice(0,6)){var r=e.slice(6);"CustomEvent"===r?(r=(t[1]||{}).event||r,t=["trackCustom",r].concat(t.slice(1))):t=["track",r].concat(t.slice(1))}switch(e=t.shift()){case"addPixelId":return L=!0,o.apply(this,t);case"init":return U=!0,o.apply(this,t);case"set":return s.apply(this,t);case"track":return I.test(t[0])?p.apply(this,t):n?c.apply(this,t):l.apply(this,t);case"trackCustom":return c.apply(this,t);case"send":return d.apply(this,t);default:k.logError('Invalid or unknown method name "'+e+'"')}}}function o(e,t,n){if(j.call(W,e))return void(t&&F(W[e].userData)?(W[e].userData=t,y("IDENTITY")):k.logError("Duplicate Pixel ID: "+e));var r={agent:!!n&&n.agent,id:e,userData:t||{}};B.push(r),W[e]=r,null!=t&&y("IDENTITY")}function s(e,t,n){var r=_.validateMetadata(e);if(r.error&&k.logError(r.error),r.warnings)for(var a=0;a<r.warnings.length;a++)k.logWarning(r.warnings[a]);if(j.call(W,n)){for(var i=0,o=B.length;i<o;i++)if(B[i].id===n){B[i][e]=t;break}}else k.logWarning("Trying to set argument "+t+" for uninitialized pixel ID "+n)}function l(e,t){t=t||{};var n=_.validateEvent(e,t);if(n.error&&k.logError(n.error),n.warnings)for(var r=0;r<n.warnings.length;r++)k.logWarning(n.warnings[r]);"CustomEvent"===e&&(e=t.event),c.call(this,e,t)}function c(e,t){for(var n=this instanceof a?this:R,r="PageView"===e,i=0,o=B.length;i<o;i++){var s=B[i];r&&n.allowDuplicatePageViews===!1&&V[s.id]===!0||(f(s,e,t),r&&(V[s.id]=!0))}}function p(e,t){f(null,e,t)}function u(e,t,n){e=e||{};var r=new x;return r.append("id",e.id),r.append("ev",t),r.append("dl",M),r.append("rl",Y),r.append("if",q),r.append("ts",(new Date).valueOf()),r.append("cd",n),r.append("ud",e.userData),r.append("v",P||A.version),r.append("a",e.agent||A.agent),r}function d(e,t){for(var n=0,r=B.length;n<r;n++)f(B[n],e,t)}function f(e,t,n){var r=u(e,t,n),a=r.toQueryString();2048>(E+"?"+a).length?h(E,a):v(E,r)}function h(e,t){var n=new Image;n.src=e+"?"+t}function v(n,r){var a="fb"+Math.random().toString().replace(".",""),i=t.createElement("form");i.method="post",i.action=n,i.target=a,i.acceptCharset="utf-8",i.style.display="none";var o=!(!e.attachEvent||e.addEventListener),s=o?'<iframe name="'+a+'">':"iframe",l=t.createElement(s);l.src="javascript:false",l.id=a,l.name=a,i.appendChild(l),k.listenOnce(l,"load",function(){r.each(function(e,n){var r=t.createElement("input");r.name=e,r.value=n,i.appendChild(r)}),k.listenOnce(l,"load",function(){i.parentNode.removeChild(i)}),i.submit()}),t.body.appendChild(i)}function g(){for(;A.queue.length&&!N.length;){var e=A.queue.shift();i.apply(A,e)}}function m(){D=t.getElementsByTagName("script");for(var e=0;e<D.length&&!S;e++){var n=D[e].src.split(O);n.length>1&&(S=n[0])}}function y(e){var n=C[e];if(n)if(b[e])b[e]({pixels:B});else if(N.indexOf(e)===-1){null==S&&m(),N.push(e);var r=t.createElement("script");r.src=S+O+n,r.async=!0;var a=D[0];a&&a.parentNode.insertBefore(r,a)}}function w(e,t){if(e&&t){b[e]=t,t({pixels:B});var n=N.indexOf(e);n>-1&&N.splice(n,1),N.length||g()}}var P="2.5.1",E="https://www.facebook.com/tr/",O="/fbevents.",C={IDENTITY:"plugins.identity.js"},b={},N=[],D=null,S=null,I=/^\d+$/,R={allowDuplicatePageViews:!1},x=function(e){function t(){this.list=[]}function n(e){return"undefined"!=typeof JSON&&null!==JSON&&JSON.stringify?JSON.stringify(e):Object.prototype.toString.call(e)}var r={exports:e},a="deep",i="shallow";return t.prototype={append:function(e,t){this._append(encodeURIComponent(e),t,a)},_append:function(e,t,r){Object(t)!==t?this._appendPrimitive(e,t):r===a?this._appendObject(e,t):this._appendPrimitive(e,n(t))},_appendPrimitive:function(e,t){null!=t&&this.list.push([e,t])},_appendObject:function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=e+"["+encodeURIComponent(n)+"]";this._append(r,t[n],i)}},each:function(e){for(var t=this.list,n=0,r=t.length;n<r;n++)e(t[n][0],t[n][1])},toQueryString:function(){var e=[];return this.each(function(t,n){e.push(t+"="+encodeURIComponent(n))}),e.join("&")}},r.exports=t,r.exports}({}),k=function(n){function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===h.call(e)}function a(e){y({action:"FB_LOG",logType:u,logMessage:e},"*"),p in m&&m[p](u+": "+e)}function i(e){y({action:"FB_LOG",logType:d,logMessage:e},"*"),f in m&&m[f](d+": "+e)}function o(e,t,n){t=v?"on"+t:t;var r=v?"attachEvent":"addEventListener",a=v?"detachEvent":"removeEventListener",i=function o(){e[a](t,o,!1),n()};e[r](t,i,!1)}function s(e,t,n){var r=e[t];e[t]=function(){var e=r.apply(this,arguments);return n.apply(this,arguments),e}}var l={exports:n},c="console",p="error",u="Facebook Pixel Error",d="Facebook Pixel Warning",f="warn",h=Object.prototype.toString,v=!("addEventListener"in t),g=function(){},m=e[c]||{},y=e.postMessage||g;return n.isArray=r,n.logError=a,n.logWarning=i,n.listenOnce=o,n.injectMethod=s,l.exports}({}),_=function(e){function t(e,t,n){this.metadata=n,this.eventName=e,this.params=t||{},this.error=null,this.warnings=[]}function n(e){return new t(null,null,e).validateMetadata()}function r(e,n){return new t(e,n).validateEvent()}var a={exports:e},i=/^[+-]?\d+(\.\d+)?$/,o="number",s="currency_code",l={AED:1,ARS:1,AUD:1,BOB:1,BRL:1,CAD:1,CHF:1,CLP:1,CNY:1,COP:1,CRC:1,CZK:1,DKK:1,EUR:1,GBP:1,GTQ:1,HKD:1,HNL:1,HUF:1,IDR:1,ILS:1,INR:1,ISK:1,JPY:1,KRW:1,MOP:1,MXN:1,MYR:1,NIO:1,NOK:1,NZD:1,PEN:1,PHP:1,PLN:1,PYG:1,QAR:1,RON:1,RUB:1,SAR:1,SEK:1,SGD:1,THB:1,TRY:1,TWD:1,USD:1,UYU:1,VEF:1,VND:1,ZAR:1},c={value:{type:o,isRequired:!0},currency:{type:s,isRequired:!0}},p={PageView:{},ViewContent:{},Search:{},AddToCart:{},AddToWishlist:{},InitiateCheckout:{},AddPaymentInfo:{},Purchase:{validationSchema:c},Lead:{},CompleteRegistration:{},CustomEvent:{validationSchema:{event:{isRequired:!0}}}},u={agent:{}},d=Object.prototype.hasOwnProperty;return t.prototype={validateMetadata:function(){var e=this.metadata.toLowerCase(),t=u[e];return t?this:this._error("Unsupported metadata argument: "+e)},validateEvent:function(){var e=this.eventName,t=p[e];if(!t)return this.warnings.push("You are sending a non-standard event '"+e+"'. The preferred way to send events is using trackCustom. See https://www.facebookmarketingdevelopers.com/pixels/up#sec-custom for more information"),this;var n=t.validationSchema;for(var r in n)if(d.call(n,r)){var a=n[r];if(a.isRequired===!0&&!d.call(this.params,r))return this._error('Required parameter "'+r+'" is missing for event "'+e+'"');if(a.type&&!this._validateParam(r,a.type))return this._error('Parameter "'+r+'" is invalid for event "'+e+'"')}return this},_validateParam:function(e,t){var n=this.params[e];switch(t){case o:var r=i.test(n);return r&&Number(n)<0&&this.warnings.push('Parameter "'+e+'" is negative for event "'+this.eventName+'"'),r;case s:return 1===l[n.toUpperCase()]}return!0},_error:function(e){return this.error=e,this}},e.validateMetadata=n,e.validateEvent=r,a.exports}({}),A=e.fbq;if(!A)return k.logError("Pixel code is not installed correctly on this page");var T=Array.prototype.slice,j=Object.prototype.hasOwnProperty,M=n.href,L=!1,U=!1,q=e.top!==e,B=[],W={},Y=t.referrer,V={},F=function(e){if(Object.keys)return 0===Object.keys(e).length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};A.callMethod=i,A.loadPlugin=y,A.registerPlugin=w,A.pixelId&&(L=!0,o(A.pixelId)),g(),(L&&U||e.fbq!==e._fbq)&&k.logWarning("Multiple pixels with conflicting versions were detected on this page"),B.length>1&&k.logWarning("Multiple different pixels were detected on this page"),function(){if(A.disablePushState!==!0&&r.pushState&&r.replaceState){var t=function(){if(Y=M,M=n.href,M!==Y){var e=new a({allowDuplicatePageViews:!0});i.call(e,"trackCustom","PageView")}};k.injectMethod(r,"pushState",t),k.injectMethod(r,"replaceState",t),e.addEventListener("popstate",t,!1)}}()}(window,document,location,history)}catch(e){(new Image).src="https://www.facebook.com/common/scribe_endpoint.php?c=jssdk_error&m="+encodeURIComponent('{"error":"LOAD", "extra": {"name":"'+e.name+'","line":"'+(e.lineNumber||e.line)+'","script":"'+(e.fileName||e.sourceURL||e.script)+'","stack":"'+(e.stackTrace||e.stack)+'","revision":"2870595","namespace":"FB","message":"'+e.message+'"}}')}
//# sourceMappingURL=maps/fbevents.js.map
