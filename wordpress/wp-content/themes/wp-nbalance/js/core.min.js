!function(window){function loadAsync(e,t,n){function i(e){e=e||assets;for(var t in e)if(e.hasOwnProperty(t)&&e[t].state!==LOADED)return!1;return!0}function r(e){e=e||BX.DoNothing,e._done||(e(),e._done=1)}if(BX.type.isArray(e)){BX.type.isFunction(t)||(t=null);var o,s,a={};for(s=0;s<e.length;s++)o=e[s],o=getAsset(o),a[o.name]=o;for(s=0;s<e.length;s++)o=e[s],o=getAsset(o),load(o,function(){i(a)&&r(t)},n)}}function loadAsyncEmulation(e,t,n){function i(e){if(e.state=PRELOADED,BX.type.isArray(e.onpreload)&&e.onpreload)for(var t=0;t<e.onpreload.length;t++)e.onpreload[t].call()}function r(e){void 0===e.state&&(e.state=PRELOADING,e.onpreload=[],loadAsset({url:e.url,type:"cache",ext:e.ext},function(){i(e)},n))}if(BX.type.isArray(e)){BX.type.isFunction(t)||(t=null);for(var o=[].slice.call(e,1),s=0;s<o.length;s++)r(getAsset(o[s]));load(getAsset(e[0]),1===e.length?t:function(){loadAsyncEmulation.apply(null,[o,t,n])},n)}}function load(e,t,n){return t=t||BX.DoNothing,e.state===LOADED?void t():e.state===PRELOADING?void e.onpreload.push(function(){load(e,t,n)}):(e.state=LOADING,void loadAsset(e,function(){e.state=LOADED,t()},n))}function loadAsset(e,t,n){function i(e){s.onload=s.onreadystatechange=s.onerror=null,t()}function r(i){i=i||window.event,("load"===i.type||/loaded|complete/.test(s.readyState)&&(!n.documentMode||n.documentMode<9))&&(window.clearTimeout(e.errorTimeout),window.clearTimeout(e.cssTimeout),s.onload=s.onreadystatechange=s.onerror=null,t())}function o(){if(e.state!==LOADED&&e.cssRetries<=20){for(var t=0,i=n.styleSheets.length;t<i;t++)if(n.styleSheets[t].href===s.href)return void r({type:"load"});e.cssRetries++,e.cssTimeout=window.setTimeout(o,250)}}t=t||BX.DoNothing;var s,a=BX.type.isNotEmptyString(e.ext)?e.ext:BX.util.getExtension(e.url);"css"===a?(s=n.createElement("link"),s.type="text/"+(e.type||"css"),s.rel="stylesheet",s.href=e.url,e.cssRetries=0,e.cssTimeout=window.setTimeout(o,500)):(s=n.createElement("script"),s.type="text/"+(e.type||"javascript"),s.src=e.url),s.onload=s.onreadystatechange=r,s.onerror=i,s.async=!1,s.defer=!1,e.errorTimeout=window.setTimeout(function(){i({type:"timeout"})},7e3),"css"===a?cssList.push(BX.getCSSPath(e.url)):jsList.push(BX.getJSPath(e.url));var l=null,u=n.head||n.getElementsByTagName("head")[0];"css"===a&&null!==(l=getTemplateLink(u))?l.parentNode.insertBefore(s,l):u.insertBefore(s,u.lastChild)}function getAsset(e){var t={};"object"==typeof e?(t=e,t.name=t.name?t.name:BX.util.hashCode(e.url)):t={name:BX.util.hashCode(e),url:e};var n=BX.type.isNotEmptyString(t.ext)?t.ext:BX.util.getExtension(t.url);("css"===n&&isCssLoaded(t.url)||isScriptLoaded(t.url))&&(t.state=LOADED);var i=assets[t.name];return i&&i.url===t.url?i:(assets[t.name]=t,t)}function isCssLoaded(e){return initCssList(),BX.util.in_array(BX.getCSSPath(e),cssList)}function initCssList(){if(!cssInit){var e=document.getElementsByTagName("link");if(e&&e.length>0)for(var t=0;t<e.length;t++){var n=e[t].getAttribute("href");BX.type.isNotEmptyString(n)&&cssList.push(BX.getCSSPath(n))}cssInit=!0}}function getTemplateLink(e){var t=function(t){for(var n=e.getElementsByTagName(t),i=0,r=n.length;i<r;i++){var o=n[i].getAttribute("data-template-style");if(BX.type.isNotEmptyString(o)&&"true"==o)return n[i]}return null},n=t("link");return null===n&&(n=t("style")),n}function isScriptLoaded(e){return initJsList(),BX.util.in_array(BX.getJSPath(e),jsList)}function initJsList(){if(!jsInit){var e=document.getElementsByTagName("script");if(e&&e.length>0)for(var t=0;t<e.length;t++){var n=e[t].getAttribute("src");BX.type.isNotEmptyString(n)&&jsList.push(BX.getJSPath(n))}jsInit=!0}}function bindReady(){if(!readyBound){if(readyBound=!0,"complete"===document.readyState)return runReady();if(document.addEventListener)document.addEventListener("DOMContentLoaded",__readyHandler,!1),window.addEventListener("load",runReady,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",__readyHandler),window.attachEvent("onload",runReady);var e=!1;try{e=null==window.frameElement}catch(t){}document.documentElement.doScroll&&e&&doScrollCheck()}}return null}function runReady(){if(!BX.isReady){if(!document.body)return setTimeout(runReady,15);if(BX.isReady=!0,readyList&&readyList.length>0){for(var e,t=0;readyList&&(e=readyList[t++]);)try{e.call(document)}catch(n){BX.debug("BX.ready error: ",n)}readyList=null}}return null}function doScrollCheck(){if(!BX.isReady){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(doScrollCheck,1)}runReady()}}function _adjustWait(){if(this.bxmsg){var e=BX.pos(this),t=e.top;t<BX.GetDocElement().scrollTop&&(t=BX.GetDocElement().scrollTop+5),this.bxmsg.style.top=t+5+"px",this==BX.GetDocElement()?this.bxmsg.style.right="5px":this.bxmsg.style.left=e.right-this.bxmsg.offsetWidth-5+"px"}}function _checkDisplay(e,t){"undefined"!=typeof t&&(e.BXDISPLAY=t);var n=e.style.display||BX.style(e,"display");return"none"!=n?(e.BXDISPLAY=e.BXDISPLAY||n,!0):(e.BXDISPLAY=e.BXDISPLAY||"block",!1)}function _processTpl(e,t,n){if(e){n&&e.parentNode.removeChild(e);for(var i={},r=BX.findChildren(e,{attribute:"data-role"},!0),o=0,s=r.length;o<s;o++)i[r[o].getAttribute("data-role")]=r[o];t.apply(e,[i])}}function _checkNode(e,t){if(t=t||{},BX.type.isFunction(t))return t.call(window,e);if(!t.allowTextNodes&&!BX.type.isElementNode(e))return!1;var n,i,r;for(n in t)if(t.hasOwnProperty(n))switch(n){case"tag":case"tagName":if(BX.type.isString(t[n])){if(e.tagName.toUpperCase()!=t[n].toUpperCase())return!1}else if(t[n]instanceof RegExp&&!t[n].test(e.tagName))return!1;break;case"class":case"className":if(BX.type.isString(t[n])){if(!BX.hasClass(e,t[n]))return!1}else if(t[n]instanceof RegExp&&(!BX.type.isString(e.className)||!t[n].test(e.className)))return!1;break;case"attr":case"attribute":if(BX.type.isString(t[n])){if(!e.getAttribute(t[n]))return!1}else if(BX.type.isArray(t[n])){for(i=0,r=t[n].length;i<r;i++)if(t[n]&&!e.getAttribute(t[n]))return!1}else for(i in t[n])if(t[n].hasOwnProperty(i)){var o=e.getAttribute(i);if(t[n][i]instanceof RegExp){if(!BX.type.isString(o)||!t[n][i].test(o))return!1}else if(o!=""+t[n][i])return!1}break;case"property":if(BX.type.isString(t[n])){if(!e[t[n]])return!1}else if(BX.type.isArray(t[n])){for(i=0,r=t[n].length;i<r;i++)if(t[n]&&!e[t[n]])return!1}else for(i in t[n])if(BX.type.isString(t[n][i])){if(e[i]!=t[n][i])return!1}else if(t[n][i]instanceof RegExp&&(!BX.type.isString(e[i])||!t[n][i].test(e[i])))return!1;break;case"callback":return t[n](e)}return!0}function Trash(){var e,t;for(e=0,t=garbageCollectors.length;e<t;e++)try{garbageCollectors[e].callback.apply(garbageCollectors[e].context||window),delete garbageCollectors[e],garbageCollectors[e]=null}catch(n){}try{BX.unbindAll()}catch(n){}}if(!window.BX||!window.BX.extend){var _bxtmp;if(window.BX&&(_bxtmp=window.BX),window.BX=function(e,t){if(BX.type.isNotEmptyString(e)){var n;return t&&null!=NODECACHE[e]&&(n=NODECACHE[e]),n=n||document.getElementById(e),t&&(NODECACHE[e]=n),n}return BX.type.isDomNode(e)?e:BX.type.isFunction(e)?BX.ready(e):null},BX.debugEnableFlag=!0,BX.message=function(e){if(BX.type.isString(e))return"undefined"==typeof BX.message[e]&&(BX.onCustomEvent("onBXMessageNotFound",[e]),"undefined"==typeof BX.message[e]&&(BX.debug("message undefined: "+e),BX.message[e]="")),BX.message[e];for(var t in e)e.hasOwnProperty(t)&&(BX.message[t]=e[t]);return!0},_bxtmp){for(var i in _bxtmp)if(_bxtmp.hasOwnProperty(i))if(BX[i]){if("message"==i)for(var j in _bxtmp[i])_bxtmp[i].hasOwnProperty(j)&&(BX.message[j]=_bxtmp[i][j])}else BX[i]=_bxtmp[i];_bxtmp=null}var __readyHandler=null,readyBound=!1,readyList=[],proxySalt=Math.random(),proxyId=1,proxyList=[],NODECACHE={},deniedEvents=[],eventsList=[],customEvents={},garbageCollectors=[],cssList=[],cssInit=!1,jsList=[],jsInit=!1,bSafari=navigator.userAgent.toLowerCase().indexOf("webkit")!=-1,bOpera=navigator.userAgent.toLowerCase().indexOf("opera")!=-1,bFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")!=-1,bChrome=navigator.userAgent.toLowerCase().indexOf("chrome")!=-1,bIE=document.attachEvent&&!bOpera,r={script:/<script([^>]*)>/gi,script_end:/<\/script>/gi,script_src:/src=["\']([^"\']+)["\']/i,script_type:/type=["\']([^"\']+)["\']/i,space:/\s+/,ltrim:/^[\s\r\n]+/g,rtrim:/[\s\r\n]+$/g,style:/<link.*?(rel="stylesheet"|type="text\/css")[^>]*>/i,style_href:/href=["\']([^"\']+)["\']/i},eventTypes={click:"MouseEvent",dblclick:"MouseEvent",mousedown:"MouseEvent",mousemove:"MouseEvent",mouseout:"MouseEvent",mouseover:"MouseEvent",mouseup:"MouseEvent",focus:"MouseEvent",blur:"MouseEvent"},lastWait=[],CHECK_FORM_ELEMENTS={tagName:/^INPUT|SELECT|TEXTAREA|BUTTON$/i},PRELOADING=1,PRELOADED=2,LOADING=3,LOADED=4,assets={},isAsync=null;BX.MSLEFT=1,BX.MSMIDDLE=2,BX.MSRIGHT=4,BX.ext=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},BX.extend=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t)},BX.namespace=function(e){var t=e.split("."),n=BX;"BX"===t[0]&&(t=t.slice(1));for(var i=0;i<t.length;i++)"undefined"==typeof n[t[i]]&&(n[t[i]]={}),n=n[t[i]];return n},BX.debug=function(){BX.debugStatus()&&(window.console&&window.console.log&&window.console.log("BX.debug: ",arguments.length>0?arguments:arguments[0]),window.console&&window.console.trace&&console.trace())},BX.debugEnable=function(e){e="boolean"!=typeof e||e,BX.debugEnableFlag=e},BX.debugStatus=function(){return BX.debugEnableFlag||!0},BX.is_subclass_of=function(e,t){return e instanceof t||!!t.superclass&&BX.is_subclass_of(e,t.superclass)},BX.clearNodeCache=function(){return NODECACHE={},!1},BX.bitrix_sessid=function(){return BX.message("bitrix_sessid")},BX.create=function(e,t,n){n=n||document,null==t&&"object"==typeof e&&e.constructor!==String&&(t=e,e=e.tag);var i;return i=BX.browser.IsIE()&&!BX.browser.IsIE9()&&null!=t&&null!=t.props&&(t.props.name||t.props.id)?n.createElement("<"+e+(t.props.name?' name="'+t.props.name+'"':"")+(t.props.id?' id="'+t.props.id+'"':"")+">"):n.createElement(e),t?BX.adjust(i,t):i},BX.adjust=function(e,t){var n,i;if(!e.nodeType)return null;if(9==e.nodeType&&(e=e.body),t.attrs)for(n in t.attrs)t.attrs.hasOwnProperty(n)&&("class"==n||"className"==n?e.className=t.attrs[n]:"for"==n?e.htmlFor=t.attrs[n]:""==t.attrs[n]?e.removeAttribute(n):e.setAttribute(n,t.attrs[n]));if(t.style)for(n in t.style)t.style.hasOwnProperty(n)&&(e.style[n]=t.style[n]);if(t.props)for(n in t.props)t.props.hasOwnProperty(n)&&(e[n]=t.props[n]);if(t.events)for(n in t.events)t.events.hasOwnProperty(n)&&BX.bind(e,n,t.events[n]);if(t.children&&t.children.length>0)for(n=0,i=t.children.length;n<i;n++)BX.type.isNotEmptyString(t.children[n])?e.innerHTML+=t.children[n]:BX.type.isElementNode(t.children[n])&&e.appendChild(t.children[n]);else t.text?(BX.cleanNode(e),e.appendChild((e.ownerDocument||document).createTextNode(t.text))):t.html&&(e.innerHTML=t.html);return e},BX.remove=function(e){return e&&null!=e.parentNode&&e.parentNode.removeChild(e),e=null,null},BX.cleanNode=function(e,t){if(e=BX(e),t=!!t,e&&e.childNodes)for(;e.childNodes.length>0;)e.removeChild(e.firstChild);return e&&t&&(e=BX.remove(e)),e},BX.html=function(e,t,n){if("undefined"==typeof t)return e.innerHTML;"undefined"==typeof n&&(n={}),t=BX.processHTML(t.toString());var i=[],r=[];if("undefined"!=typeof t.STYLE&&t.STYLE.length>0)for(var o in t.STYLE)i.push(t.STYLE[o]);if("undefined"!=typeof t.SCRIPT&&t.SCRIPT.length>0)for(var o in t.SCRIPT)t.SCRIPT[o].isInternal?r.push(t.SCRIPT[o].JS):i.push(t.SCRIPT[o].JS);n.htmlFirst&&"undefined"!=typeof t.HTML&&e&&(e.innerHTML=t.HTML);var s=new BX.Promise,a=function(){!n.htmlFirst&&"undefined"!=typeof t.HTML&&e&&(e.innerHTML=t.HTML);for(var i in r)BX.evalGlobal(r[i]);BX.type.isFunction(n.callback)&&n.callback(),s.fulfill()};return i.length>0?BX.load(i,a):a(),s},BX.insertAfter=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},BX.prepend=function(e,t){t.insertBefore(e,t.firstChild)},BX.append=function(e,t){t.appendChild(e)},BX.addClass=function(e,t){var n;if(e=BX(e),t=BX.util.trim(t),""==t)return e;if(e)if(e.className)if(e.classList&&t.indexOf(" ")<0)e.classList.add(t);else{n=(t||"").split(r.space);for(var i=" "+e.className+" ",o=0,s=n.length;o<s;o++)i.indexOf(" "+n[o]+" ")<0&&(e.className+=" "+n[o])}else e.className=t;return e},BX.removeClass=function(e,t){if(e=BX(e),e&&e.className&&t)if(BX.type.isString(t))if(e.classList&&t.indexOf(" ")<0)e.classList.remove(t);else{for(var n=t.split(r.space),i=" "+e.className+" ",o=0,s=n.length;o<s;o++)i=i.replace(" "+n[o]+" "," ");e.className=BX.util.trim(i)}else e.className="";return e},BX.toggleClass=function(e,t){var n;if(e=BX(e),BX.type.isArray(t)){n=" "+e.className+" ";for(var i=0,r=t.length;i<r;i++)if(BX.hasClass(e,t[i])){n=(" "+n+" ").replace(" "+t[i]+" "," "),n+=" "+t[i>=r-1?0:i+1],i--;break}i==r?e.className+=" "+t[0]:e.className=n,e.className=BX.util.trim(e.className)}else BX.type.isNotEmptyString(t)&&(e.classList?e.classList.toggle(t):(n=e.className,BX.hasClass(e,t)?n=(" "+n+" ").replace(" "+t+" "," "):n+=" "+t,e.className=BX.util.trim(n)));return e},BX.hasClass=function(e,t){return e=BX(e),e&&BX.type.isDomNode(e)?!(!e.className||!t)&&(e.classList&&t&&t.indexOf(" ")<0?e.classList.contains(BX.util.trim(t)):(" "+e.className+" ").indexOf(" "+t+" ")>=0):(BX.debug(e),!1)},BX.setOpacity=function(e,t){null!=e.style.filter?(e.style.zoom="100%",100==t?e.style.filter="":e.style.filter="alpha(opacity="+t.toString()+")"):null!=e.style.opacity?e.style.opacity=(t/100).toString():null!=e.style.MozOpacity&&(e.style.MozOpacity=(t/100).toString())},BX.hoverEvents=function(e){return e?BX.adjust(e,{events:BX.hoverEvents()}):{mouseover:BX.hoverEventsHover,mouseout:BX.hoverEventsHout}},BX.hoverEventsHover=function(){BX.addClass(this,"bx-hover"),this.BXHOVER=!0},BX.hoverEventsHout=function(){BX.removeClass(this,"bx-hover"),this.BXHOVER=!1},BX.focusEvents=function(e){return e?BX.adjust(e,{events:BX.focusEvents()}):{mouseover:BX.focusEventsFocus,mouseout:BX.focusEventsBlur}},BX.focusEventsFocus=function(){BX.addClass(this,"bx-focus"),this.BXFOCUS=!0},BX.focusEventsBlur=function(){BX.removeClass(this,"bx-focus"),this.BXFOCUS=!1},BX.setUnselectable=function(e){e.style.userSelect=e.style.MozUserSelect=e.style.WebkitUserSelect=e.style.KhtmlUserSelect=e.style="none",e.setAttribute("unSelectable","on")},BX.setSelectable=function(e){e.style.userSelect=e.style.MozUserSelect=e.style.WebkitUserSelect=e.style.KhtmlUserSelect=e.style="",e.removeAttribute("unSelectable")},BX.styleIEPropertyName=function(e){if("float"==e)e=BX.browser.IsIE()?"styleFloat":"cssFloat";else{var t=BX.browser.isPropertySupported(e);if(t)e=t;else{var n=/(\-([a-z]){1})/g;n.test(e)&&(e=e.replace(n,function(){return arguments[2].toUpperCase()}))}}return e},BX.style=function(e,t,n){if(!BX.type.isElementNode(e))return null;if(null==n){var i;if(e.currentStyle)i=e.currentStyle[BX.styleIEPropertyName(t)];else if(window.getComputedStyle){var r=BX.browser.isPropertySupported(t,!0);r&&(t=r),i=BX.GetContext(e).getComputedStyle(e,null).getPropertyValue(t)}return i||(i=""),i}return e.style[BX.styleIEPropertyName(t)]=n,e},BX.focus=function(e){try{return e.focus(),!0}catch(t){return!1}},BX.firstChild=function(e){for(var t=e.firstChild;t&&!BX.type.isElementNode(t);)t=t.nextSibling;return t},BX.lastChild=function(e){for(var t=e.lastChild;t&&!BX.type.isElementNode(t);)t=t.previousSibling;return t},BX.previousSibling=function(e){for(var t=e.previousSibling;t&&!BX.type.isElementNode(t);)t=t.previousSibling;return t},BX.nextSibling=function(e){for(var t=e.nextSibling;t&&!BX.type.isElementNode(t);)t=t.nextSibling;return t},BX.findChildrenByClassName=function(e,t,n){if(!e||!e.childNodes)return null;var r=[];if("undefined"==typeof e.getElementsByClassName)n=n!==!1,r=BX.findChildren(e,{className:t},n);else{var o=e.getElementsByClassName(t);for(i=0,l=o.length;i<l;i++)r[i]=o[i]}return r},BX.findChildByClassName=function(e,t,n){if(!e||!e.childNodes)return null;var i=null;if("undefined"==typeof e.getElementsByClassName)n=n!==!1,i=BX.findChild(e,{className:t},n);else{var r=e.getElementsByClassName(t);i=r&&"undefined"!=typeof r[0]?r[0]:null}return i},BX.findChildren=function(e,t,n){return BX.findChild(e,t,n,!0)},BX.findChild=function(e,t,n,i){if(!e||!e.childNodes)return null;n=!!n,i=!!i;for(var r=e.childNodes.length,o=[],s=0;s<r;s++){var a=e.childNodes[s];if(_checkNode(a,t)){if(!i)return a;o.push(a)}if(1==n){var l=BX.findChild(a,t,n,i);if(l){if(!i)return l;o=BX.util.array_merge(o,l)}}}return i||o.length>0?o:null},BX.findParent=function(e,t,n){if(!e)return null;for(var i=e;i.parentNode;){var r=i.parentNode;if(_checkNode(r,t))return r;if(i=r,n&&(BX.type.isFunction(n)||"object"==typeof n))if(BX.type.isElementNode(n)){if(i==n)break}else if(_checkNode(i,n))break}return null},BX.findNextSibling=function(e,t){if(!e)return null;for(var n=e;n.nextSibling;){var i=n.nextSibling;if(_checkNode(i,t))return i;n=i}return null},BX.findPreviousSibling=function(e,t){if(!e)return null;for(var n=e;n.previousSibling;){var i=n.previousSibling;if(_checkNode(i,t))return i;n=i}return null},BX.checkNode=function(e,t){return _checkNode(e,t)},BX.findFormElements=function(e){BX.type.isString(e)&&(e=document.forms[e]||BX(e));var t=[];return BX.type.isElementNode(e)&&(t="FORM"==e.tagName.toUpperCase()?e.elements:BX.findChildren(e,CHECK_FORM_ELEMENTS,!0)),t},BX.isParentForNode=function(e,t){if(!BX.type.isDomNode(e)||!BX.type.isDomNode(t))return!1;for(;;){if(e==t)return!0;if(!t||!t.parentNode)break;t=t.parentNode}return!1},BX.clone=function(e,t){var n,i,r;if(t!==!1&&(t=!0),null===e)return null;if(BX.type.isDomNode(e))n=e.cloneNode(t);else if("object"==typeof e)if(BX.type.isArray(e))for(n=[],i=0,r=e.length;i<r;i++)"object"==typeof e[i]&&t?n[i]=BX.clone(e[i],t):n[i]=e[i];else{n={},e.constructor&&(n=BX.type.isDate(e)?new Date(e):new e.constructor);for(i in e)"object"==typeof e[i]&&t?n[i]=BX.clone(e[i],t):n[i]=e[i]}else n=e;return n},BX.merge=function(){var e=Array.prototype.slice.call(arguments);if(e.length<2)return{};for(var t=e.shift(),n=0;n<e.length;n++)for(var i in e[n])if("undefined"!=typeof e[n]&&null!=e[n]&&e[n].hasOwnProperty(i)){if("undefined"==typeof e[n][i]||null==e[n][i])continue;if("object"!=typeof e[n][i]||BX.type.isDomNode(e[n][i])||"undefined"!=typeof e[n][i].isUIWidget)t[i]=e[n][i];else{var r="length"in e[n][i];"object"!=typeof t[i]&&(t[i]=r?[]:{}),r?BX.util.array_merge(t[i],e[n][i]):BX.merge(t[i],e[n][i])}}return t},BX.mergeEx=function(){var e=Array.prototype.slice.call(arguments);if(e.length<2)return{};for(var t=e.shift(),n=0;n<e.length;n++)for(var i in e[n])"undefined"!=typeof e[n]&&null!=e[n]&&e[n].hasOwnProperty(i)&&(BX.type.isPlainObject(e[n][i])&&BX.type.isPlainObject(t[i])?BX.mergeEx(t[i],e[n][i]):t[i]=BX.type.isPlainObject(e[n][i])?BX.clone(e[n][i]):e[n][i]);return t},BX.bind=function(e,t,n){if(e){if("mousewheel"===t)BX.bind(e,"DOMMouseScroll",n);else if("transitionend"===t)BX.bind(e,"webkitTransitionEnd",n),BX.bind(e,"msTransitionEnd",n),BX.bind(e,"oTransitionEnd",n);else if("bxchange"===t)return BX.bind(e,"change",n),BX.bind(e,"cut",n),BX.bind(e,"paste",n),BX.bind(e,"drop",n),void BX.bind(e,"keyup",n);if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,BX.proxy(n,e));else try{e["on"+t]=n}catch(i){BX.debug(i)}eventsList[eventsList.length]={element:e,event:t,fn:n}}},BX.unbind=function(e,t,n){if(e){if("mousewheel"===t)BX.unbind(e,"DOMMouseScroll",n);else if("transitionend"===t)BX.unbind(e,"webkitTransitionEnd",n),BX.unbind(e,"msTransitionEnd",n),BX.unbind(e,"oTransitionEnd",n);else if("bxchange"===t)return BX.unbind(e,"change",n),BX.unbind(e,"cut",n),BX.unbind(e,"paste",n),BX.unbind(e,"drop",n),void BX.unbind(e,"keyup",n);e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,BX.proxy(n,e)):e["on"+t]=null}},BX.getEventButton=function(e){e=e||window.event;var t=0;if("undefined"!=typeof e.which)switch(e.which){case 1:t|=BX.MSLEFT;break;case 2:t|=BX.MSMIDDLE;break;case 3:t|=BX.MSRIGHT}else"undefined"!=typeof e.button&&(t=event.button);return t||BX.MSLEFT},BX.unbindAll=function(e){if(e){for(var t=0,n=eventsList.length;t<n;t++)try{!eventsList[t]||null!=e&&e!=eventsList[t].element||(BX.unbind(eventsList[t].element,eventsList[t].event,eventsList[t].fn),eventsList[t]=null)}catch(i){}null==e&&(eventsList=[])}};var captured_events=null,_bind=null;BX.CaptureEvents=function(e,t){_bind||(_bind=BX.bind,captured_events=[],BX.bind=function(n,i,r){n===e&&i===t&&captured_events.push(r),_bind.apply(this,arguments)})},BX.CaptureEventsGet=function(){if(_bind){BX.bind=_bind;var e=captured_events;return _bind=null,captured_events=null,e}return null},BX.fireEvent=function(e,t){var n=!1,i=null;if(BX.type.isDomNode(e))if(n=!0,document.createEventObject)"MouseEvent"!=eventTypes[t]&&(i=document.createEventObject(),i.type=t,n=e.fireEvent("on"+t,i)),e[t]&&e[t]();else{switch(i=null,eventTypes[t]){case"MouseEvent":i=document.createEvent("MouseEvent"),i.initMouseEvent(t,!0,!0,top,1,0,0,0,0,0,0,0,0,0,null);break;default:i=document.createEvent("Event"),i.initEvent(t,!0,!0)}n=e.dispatchEvent(i)}return n},BX.getWheelData=function(e){return e=e||window.event,e.wheelData=e.detail?e.detail*-1:e.wheelDelta/40,e.wheelData},BX.proxy_context=null,BX.delegate=function(e,t){return e&&t?function(){var n=BX.proxy_context;BX.proxy_context=this;var i=e.apply(t,arguments);return BX.proxy_context=n,i}:e},BX.delegateLater=function(e,t,n){return function(){if(t[e]){var i=BX.proxy_context;BX.proxy_context=this;var r=t[e].apply(n||t,arguments);return BX.proxy_context=i,r}return null}},BX._initObjectProxy=function(e){"undefined"==typeof e["__proxy_id_"+proxySalt]&&(e["__proxy_id_"+proxySalt]=proxyList.length,proxyList[e["__proxy_id_"+proxySalt]]={})},BX.proxy=function(e,t){return e&&t?(BX._initObjectProxy(t),"undefined"==typeof e["__proxy_id_"+proxySalt]&&(e["__proxy_id_"+proxySalt]=proxyId++),proxyList[t["__proxy_id_"+proxySalt]][e["__proxy_id_"+proxySalt]]||(proxyList[t["__proxy_id_"+proxySalt]][e["__proxy_id_"+proxySalt]]=BX.delegate(e,t)),proxyList[t["__proxy_id_"+proxySalt]][e["__proxy_id_"+proxySalt]]):e},BX.defer=function(e,t){return t?BX.defer_proxy(e,t):function(){var t=arguments;setTimeout(function(){e.apply(this,t)},10)}},BX.defer_proxy=function(e,t){return e&&t?(BX.proxy(e,t),this._initObjectProxy(t),"undefined"==typeof e["__defer_id_"+proxySalt]&&(e["__defer_id_"+proxySalt]=proxyId++),proxyList[t["__proxy_id_"+proxySalt]][e["__defer_id_"+proxySalt]]||(proxyList[t["__proxy_id_"+proxySalt]][e["__defer_id_"+proxySalt]]=BX.defer(BX.delegate(e,t))),proxyList[t["__proxy_id_"+proxySalt]][e["__defer_id_"+proxySalt]]):e},BX.once=function(e,t,n){if("undefined"==typeof n["__once_id_"+t+"_"+proxySalt]&&(n["__once_id_"+t+"_"+proxySalt]=proxyId++),this._initObjectProxy(e),!proxyList[e["__proxy_id_"+proxySalt]][n["__once_id_"+t+"_"+proxySalt]]){var i=function(){BX.unbind(e,t,i),n.apply(this,arguments)};proxyList[e["__proxy_id_"+proxySalt]][n["__once_id_"+t+"_"+proxySalt]]=i}return proxyList[e["__proxy_id_"+proxySalt]][n["__once_id_"+t+"_"+proxySalt]]},BX.bindDelegate=function(e,t,n,i){var r=BX.delegateEvent(n,i);return BX.bind(e,t,r),r},BX.delegateEvent=function(e,t){return function(n){n=n||window.event;for(var i=n.target||n.srcElement;i!=this;){if(_checkNode(i,e))return t.call(i,n);if(!i||!i.parentNode)break;i=i.parentNode}return null}},BX.False=function(){return!1},BX.DoNothing=function(){},BX.denyEvent=function(e,t){deniedEvents.push([e,t,e["on"+t]]),e["on"+t]=BX.DoNothing},BX.allowEvent=function(e,t){for(var n=0,i=deniedEvents.length;n<i;n++)if(deniedEvents[n][0]==e&&deniedEvents[n][1]==t)return e["on"+t]=deniedEvents[n][2],void BX.util.deleteFromArray(deniedEvents,n)},BX.fixEventPageXY=function(e){return BX.fixEventPageX(e),BX.fixEventPageY(e),e},BX.fixEventPageX=function(e){return null==e.pageX&&null!=e.clientX&&(e.pageX=e.clientX+(document.documentElement&&document.documentElement.scrollLeft||document.body&&document.body.scrollLeft||0)-(document.documentElement.clientLeft||0)),e},BX.fixEventPageY=function(e){return null==e.pageY&&null!=e.clientY&&(e.pageY=e.clientY+(document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0)-(document.documentElement.clientTop||0)),e},BX.PreventDefault=function(e){return e||(e=window.event),e.stopPropagation?(e.preventDefault(),e.stopPropagation()):(e.cancelBubble=!0,e.returnValue=!1),!1},BX.eventReturnFalse=function(e){return e=e||window.event,e&&e.preventDefault?e.preventDefault():e.returnValue=!1,!1},BX.eventCancelBubble=function(e){e=e||window.event,e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},BX.addCustomEvent=function(e,t,n){BX.type.isString(e)&&(n=t,t=e,e=window),t=t.toUpperCase(),customEvents[t]||(customEvents[t]=[]),customEvents[t].push({handler:n,obj:e})},BX.removeCustomEvent=function(e,t,n){if(BX.type.isString(e)&&(n=t,t=e,e=window),t=t.toUpperCase(),customEvents[t])for(var i=0,r=customEvents[t].length;i<r;i++)if(customEvents[t][i]&&customEvents[t][i].handler==n&&customEvents[t][i].obj==e)return void delete customEvents[t][i]},BX.onCustomEvent=function(e,t,n,i){if(BX.type.isString(e)&&(i=n,n=t,t=e,e=window),t=t.toUpperCase(),customEvents[t]){n||(n=[]);for(var r,o=0,s=customEvents[t].length;o<s;o++)r=customEvents[t][o],r&&r.handler&&(r.obj!=window&&r.obj!=e||r.handler.apply(e,i?BX.clone(n):n))}},BX.bindDebouncedChange=function(e,t,n,i,r){r=r||window,i=i||300;var o="bx-dc-previous-value";BX.data(e,o,e.value);var s=function(t,n){var i=BX.data(e,o);"undefined"!=typeof i&&i==n||("object"!=typeof r?t(n):t.apply(r,[n]))},a=BX.debounce(function(){var n=e.value;s(t,n),BX.data(e,o,n)},i);if(BX.bind(e,"keyup",a),BX.bind(e,"change",a),BX.bind(e,"input",a),BX.type.isFunction(n)){var l=function(){s(n,e.value)};BX.bind(e,"keyup",l),BX.bind(e,"change",l),BX.bind(e,"input",l)}},BX.parseJSON=function(data,context){var result=null;if(BX.type.isString(data))try{data.indexOf("\n")>=0?eval("result = "+data):result=new Function("return "+data)()}catch(e){BX.onCustomEvent(context,"onParseJSONFailure",[data,context])}else if(BX.type.isPlainObject(data))return data;return result},BX.isReady=!1,BX.ready=function(e){bindReady(),BX.type.isFunction(e)?BX.isReady?e.call(document):readyList&&readyList.push(e):BX.debug("READY: not a function! ",e)},BX.submit=function(e,t,n,i){t=t||"save",e["BXFormSubmit_"+t]||(e["BXFormSubmit_"+t]=e.appendChild(BX.create("INPUT",{props:{type:"submit",name:t,value:n||"Y"},style:{display:"none"}}))),e.sessid&&(e.sessid.value=BX.bitrix_sessid()),setTimeout(BX.delegate(function(){BX.fireEvent(this,"click"),i&&i()},e["BXFormSubmit_"+t]),10)},BX.debounce=function(e,t,n){var i=0;return function(){n=n||this;var r=arguments;clearTimeout(i),i=setTimeout(function(){e.apply(n,r)},t)}},BX.throttle=function(e,t,n){var i,r=0,o=null;return function(){if(n=n||this,o=arguments,i=!0,!r){var s=function(){i?(e.apply(n,o),i=!1,r=setTimeout(s,t)):r=null};s()}}},BX.browser={IsIE:function(){return bIE},IsIE6:function(){return/MSIE 6/i.test(navigator.userAgent)},IsIE7:function(){return/MSIE 7/i.test(navigator.userAgent)},IsIE8:function(){return/MSIE 8/i.test(navigator.userAgent)},IsIE9:function(){return!!document.documentMode&&document.documentMode>=9},IsIE10:function(){return!!document.documentMode&&document.documentMode>=10},IsIE11:function(){return BX.browser.DetectIeVersion()>=11},IsOpera:function(){return bOpera},IsSafari:function(){return bSafari},IsFirefox:function(){return bFirefox},IsChrome:function(){return bChrome},IsMac:function(){return/Macintosh/i.test(navigator.userAgent)},IsAndroid:function(){return/Android/i.test(navigator.userAgent)},IsIOS:function(){return/(iPad;)|(iPhone;)/i.test(navigator.userAgent)},IsMobile:function(){return/(ipad|iphone|android|mobile|touch)/i.test(navigator.userAgent)},DetectIeVersion:function(){if(BX.browser.IsOpera()||BX.browser.IsSafari()||BX.browser.IsFirefox()||BX.browser.IsChrome())return-1;var e=-1;if(window.MSStream&&!window.ActiveXObject&&"ActiveXObject"in window?e=11:BX.browser.IsIE10()?e=10:BX.browser.IsIE9()?e=9:BX.browser.IsIE()&&(e=8),e==-1||8==e){var t;"Microsoft Internet Explorer"==navigator.appName?(t=new RegExp("MSIE ([0-9]+[.0-9]*)"),null!=t.exec(navigator.userAgent)&&(e=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(e=11,t=new RegExp("Trident/.*rv:([0-9]+[.0-9]*)"),null!=t.exec(navigator.userAgent)&&(e=parseFloat(RegExp.$1)))}return e},IsDoctype:function(e){return e=e||document,e.compatMode?"CSS1Compat"==e.compatMode:e.documentElement&&e.documentElement.clientHeight},SupportLocalStorage:function(){return!!BX.localStorage&&!!BX.localStorage.checkBrowser()},addGlobalClass:function(){var e="bx-core";if(!BX.hasClass(document.documentElement,e)){BX.browser.IsIOS()?e+=" bx-ios":BX.browser.IsMac()?e+=" bx-mac":BX.browser.IsAndroid()&&(e+=" bx-android"),e+=BX.browser.IsMobile()?" bx-touch":" bx-no-touch",e+=BX.browser.isRetina()?" bx-retina":" bx-no-retina";var t=-1;/AppleWebKit/.test(navigator.userAgent)?e+=" bx-chrome":(t=BX.browser.DetectIeVersion())>0?(e+=" bx-ie bx-ie"+t,t>7&&t<10&&!BX.browser.IsDoctype()&&(e+=" bx-quirks")):/Opera/.test(navigator.userAgent)?e+=" bx-opera":/Gecko/.test(navigator.userAgent)&&(e+=" bx-firefox"),BX.addClass(document.documentElement,e)}},isPropertySupported:function(e,t){function n(e){return e.replace(/([A-Z])/g,function(){return"-"+arguments[1].toLowerCase()})}function i(e){var t=/(\-([a-z]){1})/g;return t.test(e)?e.replace(t,function(){return arguments[2].toUpperCase()}):e}if(!BX.type.isNotEmptyString(e))return!1;var r=e.indexOf("-")>-1?i(e):e;t=!!t;for(var o=r.charAt(0).toUpperCase()+r.slice(1),s=(r+" "+["Webkit","Moz","O","ms"].join(o+" ")+o).split(" "),a=document.body||document.documentElement,l=0;l<s.length;l++){var u=s[l];if(void 0!==a.style[u]){var d=u==r?"":"-"+u.substr(0,u.length-r.length).toLowerCase()+"-";return t?d+n(r):u}}return!1},addGlobalFeatures:function(e,t){if(BX.type.isArray(e)){for(var n=[],i=0;i<e.length;i++){var r=!!BX.browser.isPropertySupported(e[i]);n.push("bx-"+(r?"":"no-")+e[i].toLowerCase())}BX.addClass(document.documentElement,n.join(" "))}},isRetina:function(){return window.devicePixelRatio&&window.devicePixelRatio>=2}},BX.show=function(e,t){!e.BXDISPLAY&&_checkDisplay(e,t)||(e.style.display=e.BXDISPLAY)},BX.hide=function(e,t){e.BXDISPLAY||_checkDisplay(e,t),e.style.display="none"},BX.toggle=function(e,t){if(!t&&BX.type.isElementNode(e)){var n=!0;n=e.BXDISPLAY?!_checkDisplay(e):"none"==e.style.display,n?BX.show(e):BX.hide(e)}else if(BX.type.isArray(t)){for(var i=0,r=t.length;i<r;i++)if(e==t[i]){e=t[i==r-1?0:i+1];break}i==r&&(e=t[0])}return e},BX.util={array_values:function(e){if(!BX.type.isArray(e))return BX.util._array_values_ob(e);for(var t=[],n=0,i=e.length;n<i;n++)null!==e[n]&&"undefined"!=typeof e[n]&&t.push(e[n]);return t},_array_values_ob:function(e){var t=[];for(var n in e)null!==e[n]&&"undefined"!=typeof e[n]&&t.push(e[n]);return t},array_keys:function(e){if(!BX.type.isArray(e))return BX.util._array_keys_ob(e);for(var t=[],n=0,i=e.length;n<i;n++)null!==e[n]&&"undefined"!=typeof e[n]&&t.push(n);return t},_array_keys_ob:function(e){var t=[];for(var n in e)null!==e[n]&&"undefined"!=typeof e[n]&&t.push(n);return t},object_keys:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},array_merge:function(e,t){BX.type.isArray(e)||(e=[]),BX.type.isArray(t)||(t=[]);var n=e.length,i=0;if("number"==typeof t.length)for(var r=t.length;i<r;i++)e[n++]=t[i];else for(;void 0!==t[i];)e[n++]=t[i++];return e.length=n,e},array_unique:function(e){var t,n=0,i=e.length;if(i<2)return e;for(;n<i-1;n++)for(t=n+1;t<i;t++)e[n]==e[t]&&(e.splice(t--,1),i--);return e},in_array:function(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},array_search:function(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return n;return-1},object_search_key:function(e,t){if("undefined"!=typeof t[e])return t[e];
for(var n in t)if("object"==typeof t[n]){var i=BX.util.object_search_key(e,t[n]);if(i!==!1)return i}return!1},trim:function(e){return BX.type.isString(e)?e.replace(r.ltrim,"").replace(r.rtrim,""):e},urlencode:function(e){return encodeURIComponent(e)},deleteFromArray:function(e,t){return e.slice(0,t).concat(e.slice(t+1))},insertIntoArray:function(e,t,n){return e.slice(0,t).concat([n]).concat(e.slice(t))},htmlspecialchars:function(e){return e.replace?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},htmlspecialcharsback:function(e){return e.replace?e.replace(/\&quot;/g,'"').replace(/&#39;/g,"'").replace(/\&lt;/g,"<").replace(/\&gt;/g,">").replace(/\&amp;/g,"&"):e},preg_quote:function(e,t){return e.replace?e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+(t||"")+"-]","g"),"\\$&"):e},jsencode:function(e){if(!e||!e.replace)return e;for(var t=[{c:"\\\\",r:"\\\\"},{c:"\\t",r:"\\t"},{c:"\\n",r:"\\n"},{c:"\\r",r:"\\r"},{c:'"',r:'\\"'},{c:"'",r:"\\'"},{c:"<",r:"\\x3C"},{c:">",r:"\\x3E"},{c:"\\u2028",r:"\\u2028"},{c:"\\u2029",r:"\\u2029"}],n=0;n<t.length;n++)e=e.replace(new RegExp(t[n].c,"g"),t[n].r);return e},nl2br:function(e){return e&&e.replace?e.replace(/([^>])\n/g,"$1<br/>"):e},str_pad:function(e,t,n,i){return n=n||" ",i=i||"right",e=e.toString(),"left"==i?BX.util.str_pad_left(e,t,n):BX.util.str_pad_right(e,t,n)},str_pad_left:function(e,t,n){var i=e.length,r=n.length;if(i>=t)return e;for(;i<t;i+=r)e=n+e;return e},str_pad_right:function(e,t,n){var i=e.length,r=n.length;if(i>=t)return e;for(;i<t;i+=r)e+=n;return e},strip_tags:function(e){return e.split(/<[^>]+>/g).join("")},strip_php_tags:function(e){return e.replace(/<\?(.|[\r\n])*?\?>/g,"")},popup:function(e,t,n){var i,r;return BX.browser.IsOpera()?(i=document.body.offsetWidth,r=document.body.offsetHeight):(i=screen.width,r=screen.height),window.open(e,"","status=no,scrollbars=yes,resizable=yes,width="+t+",height="+n+",top="+Math.floor((r-n)/2-14)+",left="+Math.floor((i-t)/2-5))},objectSort:function(e,t,n){n="asc"==n?"asc":"desc";var i,r=[];for(i in e)e.hasOwnProperty(i)&&e[i][t]&&r.push([i,e[i][t]]);"asc"==n?r.sort(function(e,t){var n,i;return isNaN(e[1])||isNaN(t[1])?(n=e[1].toString().toLowerCase(),i=t[1].toString().toLowerCase()):(n=parseInt(e[1]),i=parseInt(t[1])),n>i?1:n<i?-1:0}):r.sort(function(e,t){var n,i;return isNaN(e[1])||isNaN(t[1])?(n=e[1].toString().toLowerCase(),i=t[1].toString().toLowerCase()):(n=parseInt(e[1]),i=parseInt(t[1])),n<i?1:n>i?-1:0});var o=Array();for(i=0;i<r.length;i++)o.push(e[r[i][0]]);return o},hex2rgb:function(e){for(var t=e.replace(/[# ]/g,"").replace(/^(.)(.)(.)$/,"$1$1$2$2$3$3").match(/.{2}/g),n=0;n<3;n++)t[n]=parseInt(t[n],16);return{r:t[0],g:t[1],b:t[2]}},remove_url_param:function(e,t){if(BX.type.isArray(t))for(var n=0;n<t.length;n++)e=BX.util.remove_url_param(e,t[n]);else{var i,r;(i=e.indexOf("?"))>=0&&i!=e.length-1&&(r=e.substr(i+1),e=e.substr(0,i+1),r=r.replace(new RegExp("(^|&)"+t+"=[^&#]*","i"),""),r=r.replace(/^&/,""),BX.type.isNotEmptyString(r)?e+=r:e=e.substr(0,e.length-1))}return e},add_url_param:function(e,t){var n,i,r="",o="";for(n in t)e=this.remove_url_param(e,n),r+=(""!=r?"&":"")+n+"="+t[n];return(i=e.indexOf("#"))>=0&&(o=e.substr(i),e=e.substr(0,i)),e=(i=e.indexOf("?"))>=0?e+(i!=e.length-1?"&":"")+r+o:e+"?"+r+o},even:function(e){return parseInt(e)%2==0},hashCode:function(e){if(!BX.type.isNotEmptyString(e))return 0;for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);t=(t<<5)-t+i,t&=t}return t},getRandomString:function(e){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n=t.length;e=parseInt(e),(isNaN(e)||e<=0)&&(e=8);for(var i="",r=0;r<e;r++)i+=t.charAt(Math.floor(Math.random()*n));return i},number_format:function(e,t,n,i){var r,o,s,a,l,u="";return t=Math.abs(t),(isNaN(t)||t<0)&&(t=2),n=n||",","undefined"==typeof i&&(i="."),e=(+e||0).toFixed(t),e<0&&(u="-",e=-e),r=parseInt(e,10)+"",o=r.length>3?r.length%3:0,l=o?r.substr(0,o)+i:"",s=r.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+i),a=t?n+Math.abs(e-r).toFixed(t).replace(/-/,"0").slice(2):"",u+l+s+a},getExtension:function(e){e=e||"";var t=e.split("?")[0].split(".");return t[t.length-1].toLowerCase()},addObjectToForm:function(e,t,n){BX.type.isString(n)||(n="");for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],o=""!==n?n+"["+i+"]":i;if(BX.type.isArray(r))for(var s=0;s<r.length;s++)BX.util.addObjectToForm(r[s],t,o+"["+s.toString()+"]");else BX.type.isPlainObject(r)?BX.util.addObjectToForm(r,t,o):(r=BX.type.isFunction(r.toString)?r.toString():"",""!==r&&t.appendChild(BX.create("INPUT",{attrs:{type:"hidden",name:o,value:r}})))}},observe:function(e,t){if(!BX.browser.IsChrome()||"object"!=typeof e)return!1;t=t!==!1;var n=function(e){e.forEach(function(e){var t=e.name+" changed";console.groupCollapsed(t),console.log("Old value: ",e.oldValue),console.log("New value: ",e.object[e.name]),console.groupEnd(t)})};return t?Object.observe(e,n):Object.unobserve(e,n),t}},BX.type={isString:function(e){return""===e||!!e&&("string"==typeof e||e instanceof String)},isNotEmptyString:function(e){return!!BX.type.isString(e)&&e.length>0},isBoolean:function(e){return e===!0||e===!1},isNumber:function(e){return 0===e||!!e&&("number"==typeof e||e instanceof Number)},isFunction:function(e){return null!==e&&("function"==typeof e||e instanceof Function)},isElementNode:function(e){return e&&"object"==typeof e&&"nodeType"in e&&1==e.nodeType&&e.tagName&&"SCRIPT"!=e.tagName.toUpperCase()&&"STYLE"!=e.tagName.toUpperCase()&&"LINK"!=e.tagName.toUpperCase()},isDomNode:function(e){return e&&"object"==typeof e&&"nodeType"in e},isArray:function(e){return e&&"[object Array]"==Object.prototype.toString.call(e)},isDate:function(e){return e&&"[object Date]"==Object.prototype.toString.call(e)},isPlainObject:function(e){if(!e||"object"!=typeof e||e.nodeType)return!1;var t=Object.prototype.hasOwnProperty;try{if(e.constructor&&!t.call(e,"constructor")&&!t.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return"undefined"==typeof i||t.call(e,i)}},BX.isNodeInDom=function(e,t){return e===(t||document)||!!e.parentNode&&BX.isNodeInDom(e.parentNode)},BX.isNodeHidden=function(e){return e!==document&&("none"==BX.style(e,"display")||(!e.parentNode||BX.isNodeHidden(e.parentNode)))},BX.evalPack=function(e){for(;e.length>0;){var t=e.shift();if("SCRIPT_EXT"==t.TYPE||"SCRIPT_SRC"==t.TYPE)return void BX.loadScript(t.DATA,function(){BX.evalPack(e)});"SCRIPT"==t.TYPE&&BX.evalGlobal(t.DATA)}},BX.evalGlobal=function(e){if(e){var t=document.getElementsByTagName("head")[0]||document.documentElement,n=document.createElement("script");n.type="text/javascript",BX.browser.IsIE()?n.text=e:n.appendChild(document.createTextNode(e)),t.insertBefore(n,t.firstChild),t.removeChild(n)}},BX.processHTML=function(e,t){for(var n,i,o,s,a,l=[],u=[],d=[],c=r.script.lastIndex=r.script_end.lastIndex=0;null!==(n=r.script.exec(e));){r.script_end.lastIndex=r.script.lastIndex;var p=r.script_end.exec(e);if(null===p)break;var f=!1;if(null!==(a=n[1].match(r.script_type))&&("text/html"!=a[1]&&"text/template"!=a[1]||(f=!0)),f)d.push([c,r.script_end.lastIndex-c]);else{d.push([c,n.index-c]);var h=t||"-1"!=n[1].indexOf("bxrunfirst");if(null!==(o=n[1].match(r.script_src)))l.push({bRunFirst:h,isInternal:!1,JS:o[1]});else{var m=n.index+n[0].length,y=e.substr(m,p.index-m);l.push({bRunFirst:h,isInternal:!0,JS:y})}}c=p.index+9,r.script.lastIndex=c}d.push([c,0===c?e.length:e.length-c]);for(var B="",X=0,g=d.length;X<g;X++)B+=e.substr(d[X][0],d[X][1]);for(;null!==(i=B.match(r.style));)null!==(s=i[0].match(r.style_href))&&i[0].indexOf('media="')<0&&u.push(s[1]),B=B.replace(i[0],"");return{HTML:B,SCRIPT:l,STYLE:u}},BX.garbage=function(e,t){garbageCollectors.push({callback:e,context:t})},BX.GetDocElement=function(e){return e=e||document,BX.browser.IsDoctype(e)?e.documentElement:e.body},BX.GetContext=function(e){return BX.type.isElementNode(e)?e.ownerDocument.parentWindow||e.ownerDocument.defaultView||window:BX.type.isDomNode(e)?e.parentWindow||e.defaultView||window:window},BX.GetWindowInnerSize=function(e){var t,n;return e=e||document,window.innerHeight?(t=BX.GetContext(e).innerWidth,n=BX.GetContext(e).innerHeight):e.documentElement&&(e.documentElement.clientHeight||e.documentElement.clientWidth)?(t=e.documentElement.clientWidth,n=e.documentElement.clientHeight):e.body&&(t=e.body.clientWidth,n=e.body.clientHeight),{innerWidth:t,innerHeight:n}},BX.GetWindowScrollPos=function(e){var t,n;return e=e||document,window.pageYOffset?(t=BX.GetContext(e).pageXOffset,n=BX.GetContext(e).pageYOffset):e.documentElement&&(e.documentElement.scrollTop||e.documentElement.scrollLeft)?(t=e.documentElement.scrollLeft,n=e.documentElement.scrollTop):e.body&&(t=e.body.scrollLeft,n=e.body.scrollTop),{scrollLeft:t,scrollTop:n}},BX.GetWindowScrollSize=function(e){var t,n;return e||(e=document),e.compatMode&&"CSS1Compat"==e.compatMode?(t=e.documentElement.scrollWidth,n=e.documentElement.scrollHeight):(n=e.body.scrollHeight>e.body.offsetHeight?e.body.scrollHeight:e.body.offsetHeight,t=e.body.scrollWidth>e.body.offsetWidth||e.compatMode&&"BackCompat"==e.compatMode||e.documentElement&&!e.documentElement.clientWidth?e.body.scrollWidth:e.body.offsetWidth),{scrollWidth:t,scrollHeight:n}},BX.GetWindowSize=function(e){var t=this.GetWindowInnerSize(e),n=this.GetWindowScrollPos(e),i=this.GetWindowScrollSize(e);return{innerWidth:t.innerWidth,innerHeight:t.innerHeight,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollWidth:i.scrollWidth,scrollHeight:i.scrollHeight}},BX.scrollTop=function(e,t){if("undefined"==typeof t)return e==window?BX.GetWindowScrollPos().scrollTop:e.scrollTop;if(e==window)throw new Error("scrollTop() for window is not implemented");e.scrollTop=parseInt(t)},BX.scrollLeft=function(e,t){if("undefined"==typeof t)return e==window?BX.GetWindowScrollPos().scrollLeft:e.scrollLeft;if(e==window)throw new Error("scrollLeft() for window is not implemented");e.scrollLeft=parseInt(t)},BX.hide_object=function(e){e=BX(e),e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.height="10px",e.style.width="10px"},BX.is_relative=function(e){var t=BX.style(e,"position");return"relative"==t||"absolute"==t},BX.is_float=function(e){var t=BX.style(e,"float");return"right"==t||"left"==t},BX.is_fixed=function(e){var t=BX.style(e,"position");return"fixed"==t},BX.pos=function(e,t){var n={top:0,right:0,bottom:0,left:0,width:0,height:0};if(t=!!t,!e)return n;if("undefined"==typeof e.getBoundingClientRect||e.ownerDocument!=document||t){for(var i=0,r=0,o=e.offsetWidth,s=e.offsetHeight,a=!0;null!=e&&(a||!t||!BX.is_relative(e));e=e.offsetParent)if(i+=e.offsetLeft,r+=e.offsetTop,a)a=!1;else{var l=parseInt(BX.style(e,"border-left-width")),u=parseInt(BX.style(e,"border-top-width"));!isNaN(l)&&l>0&&(i+=l),!isNaN(u)&&u>0&&(r+=u)}n.top=r,n.left=i,n.width=o,n.height=s,n.right=n.left+o,n.bottom=n.top+s}else{var d={};try{d=e.getBoundingClientRect()}catch(c){d={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight,right:e.offsetLeft+e.offsetWidth,bottom:e.offsetTop+e.offsetHeight}}var p=document.documentElement,f=document.body;n.top=d.top+(p.scrollTop||f.scrollTop),n.left=d.left+(p.scrollLeft||f.scrollLeft),n.width=d.right-d.left,n.height=d.bottom-d.top,n.right=d.right+(p.scrollLeft||f.scrollLeft),n.bottom=d.bottom+(p.scrollTop||f.scrollTop)}for(var h in n)n.hasOwnProperty(h)&&(n[h]=Math.round(n[h]));return n},BX.width=function(e,t){return"undefined"==typeof t?e==window?window.innerWidth:BX.pos(e).width:void BX.style(e,"width",parseInt(t)+"px")},BX.height=function(e,t){return"undefined"==typeof t?e==window?window.innerHeight:BX.pos(e).height:void BX.style(e,"height",parseInt(t)+"px")},BX.align=function(e,t,n,i){i=i?i.toLowerCase():"";var r=document;BX.type.isElementNode(e)&&(r=e.ownerDocument,e=BX.pos(e));var o=e.left,s=e.bottom,a=BX.GetWindowScrollPos(r),l=BX.GetWindowInnerSize(r);return l.innerWidth+a.scrollLeft-(e.left+t)<0&&(o=e.right-t>=0?e.right-t:a.scrollLeft),(l.innerHeight+a.scrollTop-(e.bottom+n)<0||~i.indexOf("top"))&&(s=e.top-n>=0||~i.indexOf("top")?e.top-n:a.scrollTop),{left:o,top:s}},BX.scrollToNode=function(e){var t=BX(e);if(t.scrollIntoView)t.scrollIntoView(!0);else{var n=BX.pos(t);window.scrollTo(n.left,n.top)}},BX.showWait=function(e,t){e=BX(e)||document.body||document.documentElement,t=t||BX.message("JS_CORE_LOADING");var n=e.id||Math.random(),i=e.bxmsg=document.body.appendChild(BX.create("DIV",{props:{id:"wait_"+n},style:{background:'url("/bitrix/js/main/core/images/wait.gif") no-repeat scroll 10px center #fcf7d1',border:"1px solid #E1B52D",color:"black",fontFamily:"Verdana,Arial,sans-serif",fontSize:"11px",padding:"10px 30px 10px 37px",position:"absolute",zIndex:"10000",textAlign:"center"},text:t}));return setTimeout(BX.delegate(_adjustWait,e),10),lastWait[lastWait.length]=i,i},BX.closeWait=function(e,t){if(e&&!t&&(t=e.bxmsg),e&&!t&&BX.hasClass(e,"bx-core-waitwindow")&&(t=e),e&&!t&&(t=BX("wait_"+e.id)),t||(t=lastWait.pop()),t&&t.parentNode){for(var n=0,i=lastWait.length;n<i;n++)if(t==lastWait[n]){lastWait=BX.util.deleteFromArray(lastWait,n);break}t.parentNode.removeChild(t),e&&(e.bxmsg=null),BX.cleanNode(t,!0)}},BX.setJSList=function(e){BX.type.isArray(e)&&(jsList=e)},BX.getJSList=function(){return initJsList(),jsList},BX.setCSSList=function(e){BX.type.isArray(e)&&(cssList=e)},BX.getCSSList=function(){return initCssList(),cssList},BX.getJSPath=function(e){return e.replace(/^(http[s]*:)*\/\/[^\/]+/i,"")},BX.getCSSPath=function(e){return e.replace(/^(http[s]*:)*\/\/[^\/]+/i,"")},BX.getCDNPath=function(e){return e},BX.loadScript=function(e,t,n){if(!BX.isReady){var i=arguments;return void BX.ready(function(){BX.loadScript.apply(this,i)})}n=n||document,BX.type.isString(e)&&(e=[e]);var r=function(){return t&&BX.type.isFunction(t)?t():null},o=function(t){if(t>=e.length)return r();if(e[t]){var i=BX.getJSPath(e[t]);if(!isScriptLoaded(i)){var s=n.getElementsByTagName("head")[0]||n.documentElement,a=n.createElement("script");a.src=e[t];var l=!1;return a.onload=a.onreadystatechange=function(){l||a.readyState&&"loaded"!=a.readyState&&"complete"!=a.readyState||(l=!0,setTimeout(function(){o(++t)},50),a.onload=a.onreadystatechange=null,s&&a.parentNode&&s.removeChild(a))},jsList.push(i),s.insertBefore(a,s.firstChild)}o(++t)}else o(++t);return null};o(0)},BX.loadCSS=function(e,t,n){if(!BX.isReady){var i=arguments;return BX.ready(function(){BX.loadCSS.apply(this,i)}),null}var r=!1;BX.type.isString(e)&&(r=!0,e=[e]);var o,s=e.length,a=null,l=[];if(0==s)return null;if(t=t||document,n=n||window,!n.bxhead){var u=t.getElementsByTagName("HEAD");if(n.bxhead=u[0],!n.bxhead)return null}for(o=0;o<s;o++){var d=BX.getCSSPath(e[o]);if(!isCssLoaded(d)){a=document.createElement("LINK"),a.href=e[o],a.rel="stylesheet",a.type="text/css";var c=getTemplateLink(n.bxhead);null!==c?c.parentNode.insertBefore(a,c):n.bxhead.appendChild(a),l.push(a),cssList.push(d)}}return r?a:l},BX.load=function(e,t,n){if(!BX.isReady){var i=arguments;return BX.ready(function(){BX.load.apply(this,i)}),null}return n=n||document,null===isAsync&&(isAsync="async"in n.createElement("script")||"MozAppearance"in n.documentElement.style||window.opera),isAsync?loadAsync(e,t,n):loadAsyncEmulation(e,t,n)},BX.convert={nodeListToArray:function(e){try{return Array.prototype.slice.call(e,0)}catch(t){for(var n=[],i=0,r=e.length;i<r;i++)n.push(e[i]);return n}}},BX.reload=function(e,t){e===!0&&(t=!0,e=null);var n=e||top.location.href,i=n.indexOf("#"),r="";i!=-1&&(r=n.substr(i),n=n.substr(0,i)),t&&n.indexOf("clear_cache=Y")<0&&(n+=(n.indexOf("?")==-1?"?":"&")+"clear_cache=Y"),r&&(t&&("view/"==r.substr(0,5)||"#view/"==r.substr(0,6))&&r.indexOf("clear_cache%3DY")<0&&(r+=(r.indexOf("%3F")==-1?"%3F":"%26")+"clear_cache%3DY"),n=n.replace(/(\?|\&)_r=[\d]*/,""),n+=(n.indexOf("?")==-1?"?":"&")+"_r="+Math.round(1e4*Math.random())+r),top.location.href=n},BX.clearCache=function(){BX.showWait(),BX.reload(!0)},BX.template=function(e,t,n){BX.ready(function(){_processTpl(BX(e),t,n)})},BX.isAmPmMode=function(){return null!=BX.message("FORMAT_DATETIME").match("T")},BX.formatDate=function(e,t){e=e||new Date;var n=e.getHours()||e.getMinutes()||e.getSeconds(),i=t?t:n?BX.message("FORMAT_DATETIME"):BX.message("FORMAT_DATE");return i.replace(/YYYY/gi,e.getFullYear()).replace(/MMMM/gi,BX.util.str_pad_left((e.getMonth()+1).toString(),2,"0")).replace(/MM/gi,BX.util.str_pad_left((e.getMonth()+1).toString(),2,"0")).replace(/DD/gi,BX.util.str_pad_left(e.getDate().toString(),2,"0")).replace(/HH/gi,BX.util.str_pad_left(e.getHours().toString(),2,"0")).replace(/MI/gi,BX.util.str_pad_left(e.getMinutes().toString(),2,"0")).replace(/SS/gi,BX.util.str_pad_left(e.getSeconds().toString(),2,"0"))},BX.formatName=function(e,t,n){e=e||{},t=t||"";var i={TITLE:e.TITLE||"",NAME:e.NAME||"",LAST_NAME:e.LAST_NAME||"",SECOND_NAME:e.SECOND_NAME||"",LOGIN:e.LOGIN||"",NAME_SHORT:e.NAME?e.NAME.substr(0,1)+".":"",LAST_NAME_SHORT:e.LAST_NAME?e.LAST_NAME.substr(0,1)+".":"",SECOND_NAME_SHORT:e.SECOND_NAME?e.SECOND_NAME.substr(0,1)+".":"",EMAIL:e.EMAIL||"",ID:e.ID||"",NOBR:"","/NOBR":""},r=t;for(var o in i)i.hasOwnProperty(o)&&(r=r.replace("#"+o+"#",i[o]));return r=r.replace(/([\s]+)/gi," ").trim(),""==r&&(r="Y"==n?i.LOGIN:"",r=""==r?"Noname":r),r},BX.getNumMonth=function(e){var t=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],n=["january","february","march","april","may","june","july","august","september","october","november","december"],r=e.toUpperCase();for(i=1;i<=12;i++)if(r==BX.message("MON_"+i).toUpperCase()||r==BX.message("MONTH_"+i).toUpperCase()||r==t[i-1].toUpperCase()||r==n[i-1].toUpperCase())return i;return e},BX.parseDate=function(e,t,n,i){if(BX.type.isNotEmptyString(e)){n||(n=BX.message("FORMAT_DATE")),i||(i=BX.message("FORMAT_DATETIME"));var r="";for(o=1;o<=12;o++)r=r+"|"+BX.message("MON_"+o);var o,s,a=new RegExp("([0-9]+|[a-z]+"+r+")","ig"),l=e.match(a),u=n.match(/(DD|MI|MMMM|MM|M|YYYY)/gi),d=[],c=[],p={};if(!l)return null;for(l.length>u.length&&(u=i.match(/(DD|MI|MMMM|MM|M|YYYY|HH|H|SS|TT|T|GG|G)/gi)),o=0,s=l.length;o<s;o++)""!=BX.util.trim(l[o])&&(d[d.length]=l[o]);for(o=0,s=u.length;o<s;o++)""!=BX.util.trim(u[o])&&(c[c.length]=u[o]);var f=BX.util.array_search("MMMM",c);for(f>0?(d[f]=BX.getNumMonth(d[f]),c[f]="MM"):(f=BX.util.array_search("M",c),f>0&&(d[f]=BX.getNumMonth(d[f]),c[f]="MM")),o=0,s=c.length;o<s;o++){var h=c[o].toUpperCase();p[h]="T"==h||"TT"==h?d[o]:parseInt(d[o],10)}if(p.DD>0&&p.MM>0&&p.YYYY>0){var m=new Date;if(t?(m.setUTCDate(1),m.setUTCFullYear(p.YYYY),m.setUTCMonth(p.MM-1),m.setUTCDate(p.DD),m.setUTCHours(0,0,0)):(m.setDate(1),m.setFullYear(p.YYYY),m.setMonth(p.MM-1),m.setDate(p.DD),m.setHours(0,0,0)),!(isNaN(p.HH)&&isNaN(p.GG)&&isNaN(p.H)&&isNaN(p.G)||isNaN(p.MI))){if(isNaN(p.H)&&isNaN(p.G))p.HH=parseInt(p.HH||p.GG||0,10);else{var y="PM"==(p.T||p.TT||"am").toUpperCase(),B=parseInt(p.H||p.G||0,10);y?p.HH=B+(12==B?0:12):p.HH=B<12?B:0}isNaN(p.SS)&&(p.SS=0),t?m.setUTCHours(p.HH,p.MI,p.SS):m.setHours(p.HH,p.MI,p.SS)}return m}}return null},BX.selectUtils={addNewOption:function(e,t,n,i,r){if(e=BX(e)){var o=e.length;if(r!==!1)for(var s=0;s<o;s++)if(e[s].value==t)return;e.options[o]=new Option(n,t,(!1),(!1))}i===!0&&this.sortSelect(e)},deleteOption:function(e,t){if(e=BX(e))for(var n=0;n<e.length;n++)if(e[n].value==t){e.remove(n);break}},deleteSelectedOptions:function(e){if(e=BX(e))for(var t=0;t<e.length;)e[t].selected?(e[t].selected=!1,e.remove(t)):t++},deleteAllOptions:function(e){if(e=BX(e))for(var t=e.length-1;t>=0;t--)e.remove(t)},optionCompare:function(e,t){var n=e.optText.toLowerCase(),i=t.optText.toLowerCase();return n>i?1:n<i?-1:0},sortSelect:function(e){if(e=BX(e)){var t,n=[],i=e.options.length;for(t=0;t<i;t++)n[t]={optText:e[t].text,optValue:e[t].value};for(n.sort(this.optionCompare),e.length=0,i=n.length,t=0;t<i;t++)e[t]=new Option(n[t].optText,n[t].optValue,(!1),(!1))}},selectAllOptions:function(e){if(e=BX(e))for(var t=e.length,n=0;n<t;n++)e[n].selected=!0},selectOption:function(e,t){if(e=BX(e))for(var n=e.length,i=0;i<n;i++)e[i].selected=e[i].value==t},addSelectedOptions:function(e,t,n,i){if(e=BX(e))for(var r=e.length,o=0;o<r;o++)e[o].selected&&this.addNewOption(t,e[o].value,e[o].text,i,n)},moveOptionsUp:function(e){if(e=BX(e))for(var t=e.length,n=0;n<t;n++)if(e[n].selected&&n>0&&0==e[n-1].selected){var i=new Option(e[n].text,e[n].value);e[n]=new Option(e[n-1].text,e[n-1].value),e[n].selected=!1,e[n-1]=i,e[n-1].selected=!0}},moveOptionsDown:function(e){if(e=BX(e))for(var t=e.length,n=t-1;n>=0;n--)if(e[n].selected&&n<t-1&&0==e[n+1].selected){var i=new Option(e[n].text,e[n].value);e[n]=new Option(e[n+1].text,e[n+1].value),e[n].selected=!1,e[n+1]=i,e[n+1].selected=!0}}},BX.getEventTarget=function(e){return e.target?e.target:e.srcElement?e.srcElement:null},BX.hint=function(e,t,n,i){null==n&&(n=t,t=""),null==e.BXHINT&&(e.BXHINT=new BX.CHint({parent:e,hint:n,title:t,id:i}),e.BXHINT.Show())},BX.hint_replace=function(e,t,n){if(null==n&&(n=t,t=""),!e||!e.parentNode||!n)return null;var i=new BX.CHint({hint:n,title:t});return i.CreateParent(),e.parentNode.insertBefore(i.PARENT,e),e.parentNode.removeChild(e),i.PARENT.style.marginLeft="5px",e},BX.CHint=function(e){this.PARENT=BX(e.parent),this.HINT=e.hint,this.HINT_TITLE=e.title,this.PARAMS={};for(var t in this.defaultSettings)null==e[t]?this.PARAMS[t]=this.defaultSettings[t]:this.PARAMS[t]=e[t];null!=e.id&&(this.ID=e.id),this.timer=null,this.bInited=!1,this.msover=!0,this.PARAMS.showOnce?(this.__show(),this.msover=!1,this.timer=setTimeout(BX.proxy(this.__hide,this),this.PARAMS.hide_timeout)):this.PARENT&&(BX.bind(this.PARENT,"mouseover",BX.proxy(this.Show,this)),BX.bind(this.PARENT,"mouseout",BX.proxy(this.Hide,this))),BX.addCustomEvent("onMenuOpen",BX.delegate(this.disable,this)),BX.addCustomEvent("onMenuClose",BX.delegate(this.enable,this))},BX.CHint.prototype.defaultSettings={show_timeout:1e3,hide_timeout:500,dx:2,showOnce:!1,preventHide:!0,min_width:250},BX.CHint.prototype.CreateParent=function(e,t){this.PARENT&&(BX.unbind(this.PARENT,"mouseover",BX.proxy(this.Show,this)),BX.unbind(this.PARENT,"mouseout",BX.proxy(this.Hide,this))),t||(t={});var n="icon";return!t.type||"link"!=t.type&&"icon"!=t.type||(n=t.type),e&&(n="element"),"icon"==n?e=BX.create("IMG",{props:{src:t.iconSrc?t.iconSrc:"/bitrix/js/main/core/images/hint.gif"}}):"link"==n&&(e=BX.create("A",{props:{href:"javascript:void(0)"},html:"[?]"})),this.PARENT=e,BX.bind(this.PARENT,"mouseover",BX.proxy(this.Show,this)),BX.bind(this.PARENT,"mouseout",BX.proxy(this.Hide,this)),this.PARENT},BX.CHint.prototype.Show=function(){this.msover=!0,null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(BX.proxy(this.__show,this),this.PARAMS.show_timeout)},BX.CHint.prototype.Hide=function(){this.msover=!1,null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(BX.proxy(this.__hide,this),this.PARAMS.hide_timeout)},BX.CHint.prototype.__show=function(){this.msover&&!this.disabled&&(this.bInited||this.Init(),this.prepareAdjustPos()&&(this.DIV.style.display="block",this.adjustPos(),BX.bind(window,"scroll",BX.proxy(this.__onscroll,this)),this.PARAMS.showOnce&&(this.timer=setTimeout(BX.proxy(this.__hide,this),this.PARAMS.hide_timeout))))},BX.CHint.prototype.__onscroll=function(){BX.admin&&BX.admin.panel&&BX.admin.panel.isFixed()&&(this.scrollTimer&&clearTimeout(this.scrollTimer),this.DIV.style.display="none",this.scrollTimer=setTimeout(BX.proxy(this.Reopen,this),this.PARAMS.show_timeout))},BX.CHint.prototype.Reopen=function(){null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(BX.proxy(this.__show,this),50)},BX.CHint.prototype.__hide=function(){this.msover||this.bInited&&(BX.unbind(window,"scroll",BX.proxy(this.Reopen,this)),this.PARAMS.showOnce?this.Destroy():this.DIV.style.display="none")},BX.CHint.prototype.__hide_immediately=function(){this.msover=!1,this.__hide()},BX.CHint.prototype.Init=function(){this.DIV=document.body.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip"},style:{display:"none"},children:[BX.create("DIV",{props:{className:"bx-panel-tooltip-top-border"},html:'<div class="bx-panel-tooltip-corner bx-panel-tooltip-left-corner"></div><div class="bx-panel-tooltip-border"></div><div class="bx-panel-tooltip-corner bx-panel-tooltip-right-corner"></div>'}),this.CONTENT=BX.create("DIV",{props:{className:"bx-panel-tooltip-content"},children:[BX.create("DIV",{props:{className:"bx-panel-tooltip-underlay"},children:[BX.create("DIV",{props:{className:"bx-panel-tooltip-underlay-bg"}})]})]}),BX.create("DIV",{props:{className:"bx-panel-tooltip-bottom-border"},html:'<div class="bx-panel-tooltip-corner bx-panel-tooltip-left-corner"></div><div class="bx-panel-tooltip-border"></div><div class="bx-panel-tooltip-corner bx-panel-tooltip-right-corner"></div>'})]})),this.ID&&this.CONTENT.insertBefore(BX.create("A",{attrs:{href:"javascript:void(0)"},props:{className:"bx-panel-tooltip-close"},events:{click:BX.delegate(this.Close,this)}}),this.CONTENT.firstChild),this.HINT_TITLE&&this.CONTENT.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip-title"},text:this.HINT_TITLE})),this.HINT&&(this.CONTENT_TEXT=this.CONTENT.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip-text"}})).appendChild(BX.create("SPAN",{html:this.HINT}))),this.PARAMS.preventHide&&(BX.bind(this.DIV,"mouseout",BX.proxy(this.Hide,this)),BX.bind(this.DIV,"mouseover",BX.proxy(this.Show,this))),this.bInited=!0},BX.CHint.prototype.setContent=function(e){this.HINT=e,this.CONTENT_TEXT?this.CONTENT_TEXT.innerHTML=this.HINT:this.CONTENT_TEXT=this.CONTENT.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip-text"}})).appendChild(BX.create("SPAN",{html:this.HINT}))},BX.CHint.prototype.prepareAdjustPos=function(){return this._wnd={scrollPos:BX.GetWindowScrollPos(),scrollSize:BX.GetWindowScrollSize()},"none"!=BX.style(this.PARENT,"display")},BX.CHint.prototype.getAdjustPos=function(){var e={},t=BX.pos(this.PARENT),n=0;if(e.top=t.bottom+this.PARAMS.dx,BX.admin&&BX.admin.panel.DIV&&(n=BX.admin.panel.DIV.offsetHeight+this.PARAMS.dx,BX.admin.panel.isFixed()&&(n+=this._wnd.scrollPos.scrollTop)),e.top<n?e.top=n:e.top+this.DIV.offsetHeight>this._wnd.scrollSize.scrollHeight&&(e.top=t.top-this.PARAMS.dx-this.DIV.offsetHeight),e.left=t.left,t.left<this.PARAMS.dx)t.left=this.PARAMS.dx;else{var i=this.DIV.offsetWidth,r=this._wnd.scrollSize.scrollWidth-i-this.PARAMS.dx;e.left>r&&(e.left=r)}return e},BX.CHint.prototype.adjustWidth=function(){if(!this.bWidthAdjusted){var e=this.DIV.offsetWidth,t=this.DIV.offsetHeight;e>this.PARAMS.min_width&&(e=Math.round(Math.sqrt(1.618*e*t))),e<this.PARAMS.min_width&&(e=this.PARAMS.min_width),this.DIV.style.width=e+"px",this._adjustWidthInt&&clearInterval(this._adjustWidthInt),this._adjustWidthInt=setInterval(BX.delegate(this._adjustWidthInterval,this),5),this.bWidthAdjusted=!0}},BX.CHint.prototype._adjustWidthInterval=function(){this.DIV&&"none"!=this.DIV.style.display||clearInterval(this._adjustWidthInt);var e=20,t=1500,n=this.DIV.offsetWidth,i=this.CONTENT_TEXT.offsetWidth;return n>0&&i>0&&n-i<e&&n<t?void(this.DIV.style.width=n+e+"px"):void clearInterval(this._adjustWidthInt)},BX.CHint.prototype.adjustPos=function(){this.adjustWidth();var e=this.getAdjustPos();this.DIV.style.top=e.top+"px",this.DIV.style.left=e.left+"px"},BX.CHint.prototype.Close=function(){this.ID&&BX.WindowManager&&BX.WindowManager.saveWindowOptions(this.ID,{display:"off"}),this.__hide_immediately(),this.Destroy()},BX.CHint.prototype.Destroy=function(){this.PARENT&&(BX.unbind(this.PARENT,"mouseover",BX.proxy(this.Show,this)),BX.unbind(this.PARENT,"mouseout",BX.proxy(this.Hide,this))),this.DIV&&(BX.unbind(this.DIV,"mouseover",BX.proxy(this.Show,this)),BX.unbind(this.DIV,"mouseout",BX.proxy(this.Hide,this)),BX.cleanNode(this.DIV,!0))},BX.CHint.prototype.enable=function(){this.disabled=!1},BX.CHint.prototype.disable=function(){this.__hide_immediately(),this.disabled=!0},document.addEventListener?__readyHandler=function(){document.removeEventListener("DOMContentLoaded",__readyHandler,!1),runReady()}:document.attachEvent&&(__readyHandler=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",__readyHandler),runReady())}),window.attachEvent?window.attachEvent("onunload",Trash):window.addEventListener?window.addEventListener("unload",Trash,!1):window.onunload=Trash,BX(BX.DoNothing),window.BX=BX,BX.browser.addGlobalClass(),BX.data=function(e,t,n){if("undefined"!=typeof e&&"undefined"!=typeof t)if("undefined"!=typeof n)dataStorage.set(e,t,n);else{var i;if(void 0!=(i=dataStorage.get(e,t)))return i;if("getAttribute"in e){if(i=e.getAttribute("data-"+t.toString()),null===i)return;return i}}},BX.DataStorage=function(){this.keyOffset=1,this.data={},this.uniqueTag="BX-"+Math.random(),this.resolve=function(e,t){if("undefined"==typeof e[this.uniqueTag]){if(!t)return;try{Object.defineProperty(e,this.uniqueTag,{value:this.keyOffset++})}catch(n){e[this.uniqueTag]=this.keyOffset++}}return e[this.uniqueTag]},this.get=function(e,t){if((e==document||BX.type.isElementNode(e))&&"undefined"!=typeof t&&(e=this.resolve(e,!1),"undefined"!=typeof e&&"undefined"!=typeof this.data[e]))return this.data[e][t]},this.set=function(e,t,n){if((e==document||BX.type.isElementNode(e))&&"undefined"!=typeof n){var i=this.resolve(e,!0);"undefined"==typeof this.data[i]&&(this.data[i]={}),this.data[i][t]=n}}};var dataStorage=new BX.DataStorage;BX.LazyLoad={images:[],imageStatus:{hidden:-2,error:-1,undefined:0,inited:1,loaded:2},imageTypes:{image:1,background:2},registerImage:function(e,t){BX.type.isNotEmptyString(e)&&this.images.push({id:e,node:null,src:null,type:null,func:BX.type.isFunction(t)?t:null,status:this.imageStatus.undefined})},registerImages:function(e,t){if(BX.type.isArray(e))for(var n=0,i=e.length;n<i;n++)this.registerImage(e[n],t)},showImages:function(e){var t=null,n=!1;e=e!==!1;for(var i=0,r=this.images.length;i<r;i++)t=this.images[i],t.status==this.imageStatus.undefined&&this.initImage(t),t.status===this.imageStatus.inited&&(t.node&&t.node.parentNode?(n=!0,e&&t.func&&(n=t.func(t)),n===!0&&this.isElementVisibleOnScreen(t.node)&&(t.type==this.imageTypes.image?t.node.src=t.src:t.node.style.backgroundImage="url('"+t.src+"')",t.node.setAttribute("data-src",""),t.status=this.imageStatus.loaded)):(t.node=null,t.status=this.imageStatus.error))},initImage:function(e){e.status=this.imageStatus.error;var t=BX(e.id);if(t){var n=t.getAttribute("data-src");BX.type.isNotEmptyString(n)&&(e.node=t,e.src=n,e.status=this.imageStatus.inited,e.type="img"==e.node.tagName.toLowerCase()?this.imageTypes.image:this.imageTypes.background)}},isElementVisibleOnScreen:function(e){var t=this.getElementCoords(e),n=window.pageYOffset||document.documentElement.scrollTop,i=n+document.documentElement.clientHeight;t.bottom=t.top+e.offsetHeight;var r=t.top>n&&t.top<i,o=t.bottom<i&&t.bottom>n;return r||o},isElementVisibleOn2Screens:function(e){var t=this.getElementCoords(e),n=document.documentElement.clientHeight,i=window.pageYOffset||document.documentElement.scrollTop,r=i+n;t.bottom=t.top+e.offsetHeight,i-=n,r+=n;var o=t.top>i&&t.top<r,s=t.bottom<r&&t.bottom>i;return o||s},getElementCoords:function(e){var t=e.getBoundingClientRect();return{originTop:t.top,originLeft:t.left,top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},onScroll:function(){BX.LazyLoad.showImages()},clearImages:function(){this.images=[]}},BX.getCookie=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},BX.setCookie=function(e,t,n){n=n||{};var i=n.expires;if("number"==typeof i&&i){var r=new Date;r.setTime(r.getTime()+1e3*i),i=n.expires=r}i&&i.toUTCString&&(n.expires=i.toUTCString()),t=encodeURIComponent(t);var o=e+"="+t;for(var s in n)if(n.hasOwnProperty(s)){o+="; "+s;var a=n[s];a!==!0&&(o+="="+a)}return document.cookie=o,!0},BX.FixFontSize=function(e){var t,n;this.node=null,
this.prevWindowSize=0,this.prevWrapperSize=0,this.mainWrapper=null,this.textWrapper=null,this.objList=e.objList,this.minFontSizeList=[],this.minFontSize=0,e.onresize&&(this.prevWindowSize=window.innerWidth||document.documentElement.clientWidth,BX.bind(window,"resize",BX.proxy(BX.throttle(this.onResize,350),this))),e.onAdaptiveResize&&(t=this.objList[0].scaleBy||this.objList[0].node,n=getComputedStyle(t),this.prevWrapperSize=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight),BX.bind(window,"resize",BX.proxy(BX.throttle(this.onAdaptiveResize,350),this))),this.createTestNodes(),this.decrease()},BX.FixFontSize.prototype={createTestNodes:function(){this.textWrapper=BX.create("div",{style:{display:"inline-block",whiteSpace:"nowrap"}}),this.mainWrapper=BX.create("div",{style:{height:0,overflow:"hidden"},children:[this.textWrapper]})},insertTestNodes:function(){document.body.appendChild(this.mainWrapper)},removeTestNodes:function(){document.body.removeChild(this.mainWrapper)},decrease:function(){var e,t,n,i;this.insertTestNodes();for(var r=this.objList.length-1;r>=0;r--)if(n=this.objList[r].scaleBy||this.objList[r].node,i=getComputedStyle(n),e=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight),t=parseInt(getComputedStyle(this.objList[r].node)["font-size"]),this.textWrapperSetStyle(this.objList[r].node),this.textWrapperInsertText(this.objList[r].node)){for(;this.textWrapper.offsetWidth>e&&t>0;)this.textWrapper.style.fontSize=--t+"px";this.objList[r].smallestValue?(this.minFontSize=this.minFontSize?Math.min(this.minFontSize,t):t,this.minFontSizeList.push(this.objList[r].node)):this.objList[r].node.style.fontSize=t+"px"}this.minFontSizeList.length>0&&this.setMinFont(),this.removeTestNodes()},increase:function(){this.insertTestNodes();var e,t,n,i;this.insertTestNodes();for(var r=this.objList.length-1;r>=0;r--)if(n=this.objList[r].scaleBy||this.objList[r].node,i=getComputedStyle(n),e=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight),t=parseInt(getComputedStyle(this.objList[r].node)["font-size"]),this.textWrapperSetStyle(this.objList[r].node),this.textWrapperInsertText(this.objList[r].node)){for(;this.textWrapper.offsetWidth<e&&t<this.objList[r].maxFontSize;)this.textWrapper.style.fontSize=++t+"px";t--,this.objList[r].smallestValue?(this.minFontSize=this.minFontSize?Math.min(this.minFontSize,t):t,this.minFontSizeList.push(this.objList[r].node)):this.objList[r].node.style.fontSize=t+"px"}this.minFontSizeList.length>0&&this.setMinFont(),this.removeTestNodes()},setMinFont:function(){for(var e=this.minFontSizeList.length-1;e>=0;e--)this.minFontSizeList[e].style.fontSize=this.minFontSize+"px";this.minFontSize=0},onResize:function(){var e=window.innerWidth||document.documentElement.clientWidth;this.prevWindowSize>e?this.decrease():this.prevWindowSize<e&&this.increase(),this.prevWindowSize=e},onAdaptiveResize:function(){var e=this.objList[0].scaleBy||this.objList[0].node,t=getComputedStyle(e),n=parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight);this.prevWrapperSize>n?this.decrease():this.prevWrapperSize<n&&this.increase(),this.prevWrapperSize=n},textWrapperInsertText:function(e){return e.textContent?(this.textWrapper.textContent=e.textContent,!0):!!e.innerText&&(this.textWrapper.innerText=e.innerText,!0)},textWrapperSetStyle:function(e){this.textWrapper.style.fontFamily=getComputedStyle(e)["font-family"],this.textWrapper.style.fontSize=getComputedStyle(e)["font-size"],this.textWrapper.style.fontStyle=getComputedStyle(e)["font-style"],this.textWrapper.style.fontWeight=getComputedStyle(e)["font-weight"],this.textWrapper.style.lineHeight=getComputedStyle(e)["line-height"]}},BX.FixFontSize.init=function(e){return new BX.FixFontSize(e)},"undefined"==typeof BX.ParamBag&&(BX.ParamBag=function(){this._params={}},BX.ParamBag.prototype={initialize:function(e){this._params=e?e:{}},getParam:function(e,t){var n=this._params;return"undefined"!=typeof n[e]?n[e]:t},setParam:function(e,t){this._params[e]=t},clear:function(){this._params={}}},BX.ParamBag.create=function(e){var t=new BX.ParamBag;return t.initialize(e),t}),"undefined"==typeof BX.Promise&&(BX.Promise=function(e,t){this.state=null,this.value=null,this.reason=null,this.next=null,this.ctx=t||this,this.onFulfilled=[],this.onRejected=[]},BX.Promise.prototype.fulfill=function(e){this.checkState(),this.value=e,this.state=!0,this.execute()},BX.Promise.prototype.reject=function(e){this.checkState(),this.reason=e,this.state=!1,this.execute()},BX.Promise.prototype.then=function(e,t){return BX.type.isFunction(e)&&this.onFulfilled.push(e),BX.type.isFunction(t)&&this.onRejected.push(t),null===this.next&&(this.next=new BX.Promise(null,this.ctx)),null!==this.state&&this.execute(),this.next},BX.Promise.prototype.setAutoResolve=function(e,t){this.timer=setTimeout(BX.delegate(function(){null===this.state&&this[e?"fulfill":"reject"]()},this),t||15)},BX.Promise.prototype.cancelAutoResolve=function(){clearTimeout(this.timer)},BX.Promise.prototype.resolve=function(e){var t=this;this===e?this.reject(new TypeError("Promise cannot fulfill or reject itself")):e instanceof BX.Promise?e.then(function(e){t.fulfill(e)},function(e){t.reject(e)}):this.fulfill(e)},BX.Promise.prototype.execute=function(){if(null!==this.state){var e,t=void 0,n=void 0,i=void 0;if(this.state===!0)if(this.onFulfilled.length)try{for(e=0;e<this.onFulfilled.length;e++)i=this.onFulfilled[e].apply(this.ctx,[this.value]),"undefined"!=typeof i&&(t=i)}catch(r){"console"in window&&console.dir(r),BX.debug(r),n=r}else t=this.value;else if(this.state===!1)if(this.onRejected.length)try{for(e=0;e<this.onRejected.length;e++)i=this.onRejected[e].apply(this.ctx,[this.reason]),"undefined"!=typeof i&&(t=i)}catch(r){"console"in window&&console.dir(r),BX.debug(r),n=r}else n=this.reason;null!==this.next&&("undefined"!=typeof n?this.next.reject(n):"undefined"!=typeof t&&this.next.resolve(t))}},BX.Promise.prototype.checkState=function(){if(null!==this.state)throw new Error("You can not do fulfill() or reject() multiple times")})}}(window);
//# sourceMappingURL=maps/core.min.js.map
